if (self.CavalryLogger) { CavalryLogger.start_js(["0rdy+"]); }

__d("react-relay-deprecated/classic/store/RelayEnvironment",["react-relay-deprecated/classic/environment/RelayClassicCore","react-relay-deprecated/classic/legacy/store/generateForceIndex","react-relay-deprecated/classic/legacy/store/GraphQLStoreQueryResolver","react-relay-deprecated/classic/mutation/RelayGraphQLMutation","react-relay-deprecated/classic/network/RelayQueryRequest","react-relay-deprecated/classic/query/forEachRootCallArg","react-relay-deprecated/classic/query/RelayQuery","react-relay-deprecated/classic/query/RelayQueryPath","react-relay-deprecated/classic/query/RelayVariables","react-relay-deprecated/classic/route/RelayMetaRoute","react-relay-deprecated/classic/tools/relayUnstableBatchedUpdates","react-relay-deprecated/classic/store/readRelayQueryData","react-relay-deprecated/classic/store/RelayStoreData","relay-runtime","warning"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("relay-runtime").Observable,h=b("relay-runtime").deepFreeze,i=b("relay-runtime").recycleNodesInto;a.prototype.applyMutation=function(a){var c=a.configs,d=a.operation,e=a.optimisticResponse;a=a.variables;var f=new(b("react-relay-deprecated/classic/mutation/RelayGraphQLMutation"))(d.node,b("react-relay-deprecated/classic/query/RelayVariables").getOperationVariables(d,a),null,this);f.applyOptimistic(d.node,e,c);var g=!1;return{dispose:function(){g||(g=!0,f.rollback())}}};a.prototype.check=function(a){return!1};a.prototype.commitPayload=function(a,c){a=a.root;var d=b("react-relay-deprecated/classic/query/RelayQuery").Fragment.create(a.node,b("react-relay-deprecated/classic/route/RelayMetaRoute").get("$RelayEnvironment"),a.variables),e=b("react-relay-deprecated/classic/query/RelayQueryPath").getRootRecordPath();this.$1.handleFragmentPayload(a.dataID,d,e,c,null)};a.prototype.$2=function(a){var c=b("react-relay-deprecated/classic/query/RelayQuery").Fragment.create(a.node,b("react-relay-deprecated/classic/route/RelayMetaRoute").get("$RelayEnvironment"),a.variables);c=b("react-relay-deprecated/classic/store/readRelayQueryData")(this.$1,c,a.dataID);var d=c.data;c=c.dataIDs;c[a.dataID]=!0;return babelHelpers["extends"]({},a,{data:d,seenRecords:c,isMissingData:!1,owner:null})};a.prototype.lookup=function(a){a=this.$2(a);return a};a.prototype.sendMutation=function(a){__p&&__p();var c=a.configs,d=a.onCompleted,e=a.onError,f=a.operation,g=a.optimisticOperation,h=a.optimisticResponse,i=a.variables;a=a.uploadables;var j=!1;i=new(b("react-relay-deprecated/classic/mutation/RelayGraphQLMutation"))(f.node,b("react-relay-deprecated/classic/query/RelayVariables").getOperationVariables(f,i),a,this,{onSuccess:function(a){if(j)return;d&&d(a)},onFailure:function(a){if(j)return;if(e){a=a.getError();a||(a=new Error("RelayEnvironment: Unknown error executing mutation "+f.node.name));e(a)}}});h&&i.applyOptimistic(g?g.node:f.node,h,c);i.commit(c);return{dispose:function(){j||(j=!0)}}};a.prototype.subscribe=function(a,b){__p&&__p();var c,d=this.$1.getChangeEmitter(),e=function(){var f=this.$2(a);f.data=i(a.data,f.data);if(f.data===a.data)return;c&&c.remove();c=d.addListenerForIDs(Object.keys(f.seenRecords),e);a=f;b(a)}.bind(this);c=d.addListenerForIDs(Object.keys(a.seenRecords),e);return{dispose:function(){c&&(c.remove(),c=null)}}};a.prototype.retain=function(a){return{dispose:function(){}}};a.prototype.sendQuery=function(a){__p&&__p();var c=a.cacheConfig,d=a.onCompleted,e=a.onError,f=a.onNext,g=a.operation,h=!1;a=function(){h=!0};var i=b("react-relay-deprecated/classic/query/RelayQuery").OSSQuery.create(g.node,b("react-relay-deprecated/classic/route/RelayMetaRoute").get("$RelayEnvironment"),g.variables),j=new(b("react-relay-deprecated/classic/network/RelayQueryRequest"))(i);j.getPromise().then(function(a){if(h)return;var e=c&&c.force?b("react-relay-deprecated/classic/legacy/store/generateForceIndex")():null;this.$1.handleOSSQueryPayload(i,a.response,e);f&&f(g.root);d&&d()}.bind(this),function(a){if(h)return;e&&e(a)});this.$1.getTaskQueue().enqueue(function(){this.$1.getNetworkLayer().sendQueries([j])}.bind(this));return{dispose:a}};a.prototype.execute=function(a){var b=a.operation,c=a.cacheConfig;a.updater;return g.fromLegacy(function(a){return this.sendQuery(babelHelpers["extends"]({operation:b,cacheConfig:c},a))}.bind(this))};function a(a){this.$1=a?a:new(b("react-relay-deprecated/classic/store/RelayStoreData"))(),this.$1.getChangeEmitter().injectBatchingStrategy(b("react-relay-deprecated/classic/tools/relayUnstableBatchedUpdates")),this.applyUpdate=this.applyUpdate.bind(this),this.commitUpdate=this.commitUpdate.bind(this),this.unstable_internal=b("react-relay-deprecated/classic/environment/RelayClassicCore")}a.prototype.getStoreData=function(){return this.$1};a.prototype.injectDefaultNetworkLayer=function(a){this.$1.getNetworkLayer().injectDefaultImplementation(a)};a.prototype.injectNetworkLayer=function(a){this.$1.getNetworkLayer().injectImplementation(a)};a.prototype.injectQueryTracker=function(a){this.$1.injectQueryTracker(a)};a.prototype.addNetworkSubscriber=function(a,b){return this.$1.getNetworkLayer().addNetworkSubscriber(a,b)};a.prototype.injectTaskScheduler=function(a){this.$1.injectTaskScheduler(a)};a.prototype.injectCacheManager=function(a){this.$1.injectCacheManager(a)};a.prototype.primeCache=function(a,b){return this.$1.getQueryRunner().run(a,b)};a.prototype.forceFetch=function(a,b){return this.$1.getQueryRunner().forceFetch(a,b)};a.prototype.read=function(a,c,d){return b("react-relay-deprecated/classic/store/readRelayQueryData")(this.$1,a,c,d).data};a.prototype.readAll=function(a,c,d){return c.map(function(c){return b("react-relay-deprecated/classic/store/readRelayQueryData")(this.$1,a,c,d).data}.bind(this))};a.prototype.readQuery=function(a,c){var d=this.$1.getQueuedStore(),e=a.getStorageKey(),f=[];b("react-relay-deprecated/classic/query/forEachRootCallArg")(a,function(b){b=b.identifyingArgKey;var g;b=d.getDataID(e,b);b!=null&&(g=this.read(a,b,c));f.push(g)}.bind(this));return f};a.prototype.getFragmentResolver=function(a,c){return new(b("react-relay-deprecated/classic/legacy/store/GraphQLStoreQueryResolver"))(this.$1,a,c)};a.prototype.applyUpdate=function(a,b){a.bindEnvironment(this);return this.$1.getMutationQueue().createTransaction(a,b).applyOptimistic()};a.prototype.commitUpdate=function(a,b){var c=this.applyUpdate(a,b),d=c.getStatus();setTimeout(function(){if(c.getStatus()!==d)return;c.commit()});return c};a.prototype.update=function(a,c){b("warning")(!1,"`Relay.Store.update` is deprecated. Please use `Relay.Store.commitUpdate` or `Relay.Store.applyUpdate` instead."),this.commitUpdate(a,c)};function c(a){Object.freeze(a);a.data!=null&&h(a.data);h(a.seenRecords);h(a.variables);return a}e.exports=a}),null);