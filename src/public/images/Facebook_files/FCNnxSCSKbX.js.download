if (self.CavalryLogger) { CavalryLogger.start_js(["XHm07"]); }

__d("AdsCommonLocalMapUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a="#4D6AA4";b="#3b5998";c="#dc3847";d=19;f=1;var g={KILOMETERS_TO_METERS:1e3,MILES_TO_METERS:1609.34,ZOOM_MAX:d,ZOOM_MIN:f,LEAFLET_TARGET_CIRCLE_OPTIONS:{color:a,clickable:!1,fillOpacity:30/255,opacity:95/255,weight:1},LEAFLET_TARGET_MARKER_OPTIONS:{color:"#fff",fillColor:a,fillOpacity:1,opacity:1,radius:4,weight:2},LEAFLET_TARGET_REGION_INCLUDE_OPTIONS:{color:b,clickable:!1,opacity:.5,fillColor:b,fillOpacity:.11,weight:1,noClip:!0},LEAFLET_TARGET_HIGHLIGHT_REGION_INCLUDE_OPTIONS:{color:b,clickable:!1,opacity:.5,fillColor:b,fillOpacity:.22,weight:1,noClip:!0},LEAFLET_TARGET_REGION_EXCLUDE_OPTIONS:{color:c,clickable:!1,opacity:.5,fillColor:c,fillOpacity:.11,weight:1,noClip:!0},LEAFLET_TARGET_HIGHLIGHT_REGION_EXCLUDE_OPTIONS:{color:c,clickable:!1,opacity:.5,fillColor:c,fillOpacity:.22,weight:1,noClip:!0},LEAFLET_TILES_OPTIONS:{maxZoom:d,minZoom:f},LEAFLET_MARKER_ICON_OPTIONS:{iconSize:[25,32],iconAnchor:[12,32]},LEAFLET_MARKER_LOCATION_PIN_ICON_SELECTED_OPTIONS:{iconSize:[22,27],iconAnchor:[11,27]},LEAFLET_MARKER_LOCATION_PIN_ICON_NOT_SELECTED_OPTIONS:{iconSize:[13,13],iconAnchor:[6,13]},getBestZoom:function(a,b,c,d,e){b=a/180*Math.PI;a=Math.min(c,d);c=6e4/800*a/e*Math.cos(b);d=function(a){return Math.log(a)/Math.LN2};a=10+Math.floor(d(c));return a},getRadiusInMeters:function(a,b){return b==="kilometer"?a*g.KILOMETERS_TO_METERS:a*g.MILES_TO_METERS}};e.exports=g}),null);
__d("AdsTargetingLocationInlineMapUtils",["GeoCoordinates","LeafletUtils","LeafletView","LocationConstants","leaflet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e4;function h(a){__p&&__p();var c;a.forEach(function(a){__p&&__p();var d;if(a.center&&a.radius){var e=a.center,f=a.radius;d=b("LeafletUtils").circleBounds(b("LeafletUtils").toLatLng(e),f)}else a.coordinateLists&&a.coordinateLists.size?a.coordinateLists.forEach(function(a){a=a.map(function(a){return b("LeafletUtils").toLatLng(new(b("GeoCoordinates"))(a.latitude,a.longitude))}).toArray();a=b("leaflet").latLngBounds(a);d=void 0===d?a:d.extend(a)}):a.center&&(d=b("LeafletUtils").circleBounds(b("LeafletUtils").toLatLng(a.center),g));void 0===c?c=d:c.extend(d)});return c}function a(a,c){c=h(c);return!c?a:a.setCenter(b("LeafletUtils").fromLatLng(c.getCenter()))}function c(a,c){return new(b("LeafletView"))({center:a.center,zoom:b("LocationConstants").getNextZoomRangeStart(c)})}function d(a){return a.type===b("LocationConstants").CUSTOM_LOCATIONS&&a.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY}f={centerToLocations:a,getAllBounds:h,isLocationForMultiCity:d,zoomToNextRange:c};e.exports=f}),null);
__d("AdsTargetingLocationMapPopup",["cx","FbtResultBase","React","isEmpty","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={showingPopoverMenu:!1},this.$1=function(){var a=b("isEmpty")(this.props.menuItems);return b("React").createElement("div",null,b("React").createElement("div",{className:(a?"_2e-k":"")+(a?"":" _37vz")},this.props.label),a?null:this.$2())}.bind(this),this.$5=function(a){return!!(this.props.menuItemsDisabled&&this.props.menuItemsDisabled[a])}.bind(this),this.$3=function(){this.setState({showingPopoverMenu:!this.state.showingPopoverMenu})}.bind(this),this.$6=function(a){this.setState({showingPopoverMenu:!1}),this.props.onMenuItemSelect(a,this.props.location)}.bind(this),c}a.prototype.render=function(){return b("React").createElement("div",{className:"_37vy"},this.$1())};a.prototype.$2=function(){var a="_37v-";return b("React").createElement("div",{className:"_37v_"},b("React").createElement("button",{className:a,type:"button",value:"locationpopoverbutton",onClick:this.$3},this.props.children),this.$4())};a.prototype.$4=function(){if(!this.state.showingPopoverMenu)return null;var a=b("nullthrows")(this.props.menuItems),c="_37w0",d=Object.keys(a).map(function(d){var e=this.$6.bind(this,d),f=a[d],g=this.$5(d);return b("React").createElement("button",{className:c,disabled:g,key:d,value:"locationpopoveritem",onClick:e},f)}.bind(this));return b("React").createElement("div",{className:"_37w1"},d)};a.propTypes={label:c.oneOfType([c.string,c.instanceOf(b("FbtResultBase"))]).isRequired,location:c.object.isRequired,menuItems:c.object,menuItemsDisabled:c.object,onMenuItemSelect:c.func.isRequired};e.exports=a}),null);
__d("AdsTargetingLocationTypeAliases",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({DEFAULT:null,INVOKE_CALLBACK_ON_SINGLE_NODE:null,NONE:null,SHOW_POPUP:null,ZOOM_TO_MARKER:null,ZOOM_TO_NEXT_RANGE:null});c={CLICK_BEHAVIORS:a};e.exports=c}),null);
__d("LeafletCircleMarker.react",["GeoCoordinates","LeafletLayer.react","LeafletPath","LeafletUtils","React","leaflet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.mutate=function(a,c,d){__p&&__p();var e=c.options||{},f=e.radius;e=babelHelpers.objectWithoutPropertiesLoose(e,["radius"]);var g=d.options||{},h=g.prevRadius;g=babelHelpers.objectWithoutPropertiesLoose(g,["prevRadius"]);if(!b("LeafletPath").mutateOptions(a,e,g))return!1;b("LeafletLayer.react").mutateEventHandlers(a,c.eventHandlers,d.eventHandlers);c.center!==d.center&&a.setLatLng(b("LeafletUtils").toLatLng(c.center));f!==h&&a.setRadius(c.radius);return!0};a.toLayer=function(a){var c=b("leaflet").circleMarker(b("LeafletUtils").toLatLng(a.center),a.options);b("LeafletLayer.react").addEventHandlers(c,a.eventHandlers);return c};a.prototype.render=function(){return null};function a(){g.apply(this,arguments)}a.propTypes={options:c.object,eventHandlers:c.object,center:c.instanceOf(b("GeoCoordinates")).isRequired};e.exports=a}),null);
__d("LeafletPolyline.react",["immutable","LeafletPath","LeafletUtils","React","areEqual","leaflet","nearlyEqualNumbers"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("React").PropTypes;g=babelHelpers.inherits(h,b("React").Component);g&&g.prototype;h.coordinatesToLatLngs=function(a){return a.toSeq().map(b("LeafletUtils").toLatLng).toArray()};h.mutate=function(a,c,d){if(!h.mutateOptions(a,c.options,d.options))return!1;d&&!b("areEqual")(d,c)&&c.popup&&(a.unbindPopup(),a.bindPopup(c.popup.type.toLayer(c.popup.props,a)));b("immutable").is(c.coordinates,d.coordinates)||a.setLatLngs(h.coordinatesToLatLngs(c.coordinates));return!0};h.toLayer=function(a){var c=b("leaflet").polyline(h.coordinatesToLatLngs(a.coordinates),a.options);a.popup&&c.bindPopup(a.popup.type.toLayer(a.popup.props,c));return c};h.mutateOptions=function(a,c,d){c=c||{};var e=c.smoothFactor,f=c.noClip;c=babelHelpers.objectWithoutPropertiesLoose(c,["smoothFactor","noClip"]);d=d||{};var g=d.smoothFactor,h=d.noClip;d=babelHelpers.objectWithoutPropertiesLoose(d,["smoothFactor","noClip"]);if(!b("LeafletPath").mutateOptions(a,c,d))return!1;return!b("nearlyEqualNumbers")(g,e)||h!==f?!1:!0};h.prototype.render=function(){return null};function h(){g.apply(this,arguments)}h.propTypes={options:a.object,coordinates:a.instanceOf(b("immutable").List).isRequired,popup:a.element};e.exports=h}),null);
__d("LeafletMultiPolyline.react",["immutable","LeafletLayer.react","LeafletPolyline.react","LeafletUtils","React","leaflet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("React").PropTypes;g=babelHelpers.inherits(h,b("React").Component);g&&g.prototype;h.coordinateListsToLatLngs=function(a){return a.toSeq().map(function(a){return a.toSeq().map(function(a){if(a instanceof b("immutable").List)return a.toSeq().map(b("LeafletUtils").toLatLng).toArray();else return b("LeafletUtils").toLatLng(a)}).toArray()}).toArray()};h.mutate=function(a,c,d){if(!b("LeafletPolyline.react").mutateOptions(a,c.options,d.options))return!1;b("LeafletLayer.react").mutateEventHandlers(a,c.eventHandlers,d.eventHandlers);b("immutable").is(c.coordinateLists,d.coordinateLists)||a.setLatLngs(h.coordinateListsToLatLngs(c.coordinateLists));return!0};h.toLayer=function(a){var c=b("leaflet").multiPolyline(h.coordinateListsToLatLngs(a.coordinateLists),a.options);b("LeafletLayer.react").addEventHandlers(c,a.eventHandlers);return c};h.prototype.render=function(){return null};function h(){g.apply(this,arguments)}h.propTypes={options:a.object,eventHandlers:a.object,coordinateLists:a.instanceOf(b("immutable").List).isRequired};e.exports=h}),null);
__d("LeafletTestIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MULTIPOLYGON:"leaflet_multipolygon"})}),null);
__d("LeafletMultiPolygon.react",["LeafletLayer.react","LeafletMultiPolyline.react","LeafletTestIDs","LeafletUtils","React","areEqual","immutable","leaflet"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.mutate=function(a,c,d){"use strict";var e=c.popup;e&&d&&!b("areEqual")(d,c)?(a.closePopup(),a.unbindPopup(),a.bindPopup(e.type.toLayer(e.props,a)),a.openPopup(b("LeafletUtils").toLatLng(e.props.coordinates))):!e&&d.popup&&(a.closePopup(),a.unbindPopup());return b("LeafletMultiPolyline.react").mutate(a,c,d)};a.toLayer=function(a){"use strict";var c=b("leaflet").multiPolygon(b("LeafletMultiPolyline.react").coordinateListsToLatLngs(a.coordinateLists),babelHelpers["extends"]({"data-testid":b("LeafletTestIDs").MULTIPOLYGON},a.options)),d=a.popup;d&&(c.bindPopup(d.type.toLayer(d.props,c)),c.openPopup(b("LeafletUtils").toLatLng(d.props.coordinates)));b("LeafletLayer.react").addEventHandlers(c,a.eventHandlers);return c};a.prototype.render=function(){"use strict";return null};function a(){"use strict";g.apply(this,arguments)}a.propTypes={options:c.object,eventHandlers:c.object,coordinateLists:c.instanceOf(b("immutable").List).isRequired};e.exports=a}),null);
__d("AdsTargetingLocationInlineMap.react",["cx","fbt","ix","AdsCommonLocalMapUtils","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsTargetingLocationLoggingEvents","AdsTargetingLocationMapPopup","BanzaiODS","FBLogger","FBOverlayElement.react","FBTilesMap.react","FBTilesMapZoomOverlay__DEPRECATED.react","GeoCoordinates","Image.react","LeafletCircle.react","LeafletCircleMarker.react","LeafletMarker.react","LeafletMultiPolygon.react","LeafletPopup.react","LeafletUtils","LeafletView","LocationConstants","React","SUIBusinessTheme","SUIButton.react","TilesMapConfig","XUIButton.react","areEqual","emptyFunction","immutable","leaflet","performanceNow","AdsTargetingLocationInlineMapUtils","AdsTargetingLocationTypeAliases"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;var k=b("AdsTargetingLocationInlineMapUtils").centerToLocations,l=b("AdsTargetingLocationInlineMapUtils").getAllBounds,m=b("AdsTargetingLocationInlineMapUtils").isLocationForMultiCity,n=b("AdsTargetingLocationInlineMapUtils").zoomToNextRange,o=b("AdsTargetingLocationTypeAliases").CLICK_BEHAVIORS,p=new(b("LeafletView"))({center:new(b("GeoCoordinates"))(0,0),zoom:1}),q=1,r=2,s=b("React").createElement(b("Image.react"),{src:i("22149"),width:"12"}),t=b("React").createElement(b("Image.react"),{src:i("22118"),width:"16"}),u={INCLUDE:h._("Incluir"),EXCLUDE:h._("Excluir"),DELETE:h._("Excluir")},v={DELETE:h._("Excluir")},w=0;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={locating:!1,mapOptions:{scrollWheelZoom:!this.props.disableScrollWheelZoom,maxBounds:this.props.maxBounds},size:null,view:this.props.view||p,popupLocationKey:null},this.$1=function(a){__p&&__p();if(a.coordinateLists.size)return null;if(!a.geoLocation.type)return null;var c=b("LocationConstants").getPluralLocationType(a.geoLocation.type);switch(c){case b("LocationConstants").COUNTRIES:return new(b("LeafletView"))({center:a.center,zoom:r});case b("LocationConstants").COUNTRY_GROUPS:return new(b("LeafletView"))({center:a.center,zoom:q});case b("LocationConstants").CUSTOM_LOCATIONS:return a.geoLocation.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY?new(b("LeafletView"))({center:a.center,zoom:a.geoLocation.country?r:q}):null;default:return null}},this.$8=function(a,c){if(c)return a?b("AdsCommonLocalMapUtils").LEAFLET_TARGET_HIGHLIGHT_REGION_EXCLUDE_OPTIONS:b("AdsCommonLocalMapUtils").LEAFLET_TARGET_HIGHLIGHT_REGION_INCLUDE_OPTIONS;else return a?b("AdsCommonLocalMapUtils").LEAFLET_TARGET_REGION_EXCLUDE_OPTIONS:b("AdsCommonLocalMapUtils").LEAFLET_TARGET_REGION_INCLUDE_OPTIONS},this.$9=function(a,b,c){if(b)if(a)return c?"_3ag7":"_s6h";else return c?"_3ag8":"_s6i";else if(a)return c?"_3ag9":"_3i44";else return c?"_3aga":"_3i45"},this.$4=function(a,c,d,e){__p&&__p();var f=this.props.menuItems||(this.props.onlyInclusion?v:u),g;this.props.menuItems||(g=c?{INCLUDE:!1,EXCLUDE:!0,DELETE:!1}:{INCLUDE:!0,EXCLUDE:!1,DELETE:!1});var h={};c||this.props.excludedLocations.forEach(function(a,c){c=a.geoLocation;c.type===b("LocationConstants").CUSTOM_LOCATIONS&&c.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY&&(h[c.key]=!0)});a.forEach(function(a,i){__p&&__p();if(!c&&h[a.geoLocation.key]===!0)return;var j=this.state.popupLocationKey===a.geoLocation.key;i=this.props.highlightLocations.contains(a)||j;var k=a.geoLocation.type===b("LocationConstants").CUSTOM_LOCATIONS&&a.geoLocation.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY,l=(i?"h":"")+(c?"-":"")+a.geoLocation.key,n=this.$8(c,i),p=[],q=b("React").createElement(b("LeafletPopup.react"),{options:{autoPan:!1,closeButton:!1,className:"_1l0n",maxWidth:500}},a.popup||b("React").createElement(b("AdsTargetingLocationMapPopup"),{label:this.$10(a.geoLocation),location:a.geoLocation,menuItems:m(a.geoLocation)?v:f,menuItemsDisabled:g,onMenuItemSelect:this.props.onPopupMenuItemSelect}));q=j||[o.DEFAULT,o.SHOW_POPUP].includes(this.props.clickBehavior)?q:void 0;var r=this.$11(a),s=function(a){j&&a.target.openPopup()},t=function(b){this.state.popupLocationKey!==a.geoLocation.key&&this.setState({popupLocationKey:a.geoLocation.key})}.bind(this),u=function(b){this.state.popupLocationKey===a.geoLocation.key&&j&&this.setState({popupLocationKey:null})}.bind(this),w=function(a){this.props.showPopupOnHover&&t(a)}.bind(this),x=function(a){this.props.showPopupOnHover&&u(a)}.bind(this);k=a.icon||b("leaflet").divIcon(babelHelpers["extends"]({},b("AdsCommonLocalMapUtils").LEAFLET_MARKER_ICON_OPTIONS,{className:this.$9(c,i,k)}));p.push(b("React").createElement(b("LeafletMarker.react"),{coordinates:a.center,eventHandlers:{add:s,click:r,mouseover:w,mouseout:x,popupclose:u,popupopen:t},key:"m"+l,options:{clickable:!0,icon:k,zIndexOffset:i?1e3:0},popup:q}));s=!1;a.coordinateLists&&a.coordinateLists.size&&(p.push(b("React").createElement(b("LeafletMultiPolygon.react"),{coordinateLists:a.coordinateLists,key:"p"+l,options:n})),s=!0);r=a.circleCenter||a.center;r&&a.radius&&(p.push(b("React").createElement(b("LeafletCircle.react"),{center:r,key:"c"+l,options:n,radius:a.radius})),s||p.push(b("React").createElement(b("LeafletCircleMarker.react"),{center:r,key:"cm"+l,options:b("AdsCommonLocalMapUtils").LEAFLET_TARGET_MARKER_OPTIONS})));i?e.push.apply(e,p):d.push.apply(d,p)}.bind(this))}.bind(this),this.$10=function(a){return a.name},this.$12=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_ZOOM_IN},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);var a=this.state.view;a.zoom<b("TilesMapConfig").ZOOM_RANGE.MAX&&this.$3(a.setZoom(a.zoom+1))}.bind(this),this.$13=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_ZOOM_OUT},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);var a=this.state.view;a.zoom>b("TilesMapConfig").ZOOM_RANGE.MIN&&this.$3(a.setZoom(a.zoom-1))}.bind(this),this.$14=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_ZOOM_TO_FIT},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);var a=this.$2(this.state.size,this.props.locations.union(this.props.excludedLocations));this.$3(a)}.bind(this),this.$15=function(){var a=this.state.view.zoom<b("TilesMapConfig").ZOOM_RANGE.MAX?this.$12:void 0,c=this.state.view.zoom>b("TilesMapConfig").ZOOM_RANGE.MIN?this.$13:void 0,d=!this.props.disableCollapseButton&&b("React").createElement("div",{className:"_qh2"},b("React").createElement(b("XUIButton.react"),{className:"_qh3",image:t,label:h._("clique para recolher o mapa"),labelIsHidden:!0,type:"button",onClick:this.props.onCollapseMap}));return b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"zoomControls",vertical:"top"},b("React").createElement("div",null,d,b("React").createElement(b("FBTilesMapZoomOverlay__DEPRECATED.react"),{className:"_3-8j",onZoomIn:a,onZoomOut:c}),b("React").createElement("div",{className:"_qh4"},b("React").createElement(b("XUIButton.react"),{className:"_qh5",image:s,label:h._("Ampliar para enquadrar"),labelIsHidden:!0,type:"button",onClick:this.$14}))))}.bind(this),this.$16=function(){return b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"addLocation",vertical:"bottom"},b("React").createElement("div",null,b("React").createElement(b("SUIButton.react"),{disabled:this.props.addingLocation,icon:b("React").createElement(b("Image.react"),{src:this.props.addLocationMode===b("LocationConstants").INCLUDE?i("22123"):i("22122")}),isDepressed:this.state.locating,label:h._("Adicionar pino"),style:{marginBottom:"12px",marginRight:"12px"},theme:b("SUIBusinessTheme"),type:"button",onClick:this.$17})))}.bind(this),this.$7=function(){return this.props.hideAllControls?null:this.props.enableDropPin?[this.$15(),this.$16()]:[this.$15()]}.bind(this),this.$5=function(a){this.state.locating&&(this.setState({locating:!1}),this.props.onAddLocationFromMap(new(b("GeoCoordinates"))(a.latlng.lat,b("LeafletUtils").wrapLongitude(a.latlng.lng))))}.bind(this),this.$17=function(a){this.setState({locating:!this.state.locating})}.bind(this),this.$2=function(a,c){if(!a||0===c.size)return this.state.view;c=l(c);if(!c)return this.state.view;c=b("LeafletUtils").fitBounds(c,{width:a.x,height:a.y},{zoomRange:[0,20]});return c}.bind(this),this.$6=function(a){var b=this.state.view;this.props.centerLocations&&this.props.centerLocations.size>0?b=k(this.state.view,this.props.centerLocations):(this.props.locations.size>0||this.props.excludedLocations.size>0||this.props.fitLocations.size>0)&&(b=this.$2(a,this.props.locations.union(this.props.excludedLocations).union(this.props.fitLocations)));this.$3(b,a)}.bind(this),this.$3=function(a,b){b=b||this.state.size;this.props.view?this.setState({size:b}):this.setState({view:a,size:b});this.props.onViewChange&&this.props.onViewChange(a,b)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){w=b("performanceNow")()};a.prototype.componentDidMount=function(){var a,c=Math.floor(b("performanceNow")()-w);b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_MOUNTING_TIME,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").SCENARIO_DURATION]=c,a)},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);b("BanzaiODS").bumpEntityKey("ads_targeting_location","geo_location_map_mounting_time",c)};a.prototype.UNSAFE_componentWillUpdate=function(a,c){b("performanceNow")()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();if(!b("LeafletUtils").areViewEqual(a.view,this.props.view))this.setState({view:a.view||p});else if(null!==this.state.size&&a.fitLocations.size>0&&(a.forceUpdate||!b("areEqual")(a.fitLocations,this.props.fitLocations))){var c=null;if(a.fitLocations.size==1){var d=a.fitLocations.first();c=this.$1(d)}c||(c=this.$2(this.state.size,a.fitLocations));this.$3(c)}b("areEqual")(a.maxBounds,this.props.maxBounds)||b("FBLogger")("ads").warn("AdsTargetingLocationInlineMap does not support changing maxBounds");a.view&&!a.onViewChange&&b("FBLogger")("ads").warn("AdsTargetingLocationInlineMap expects `onViewChange` if given `view`");a.mapHasFocus||this.setState({popupLocationKey:null})};a.prototype.shouldComponentUpdate=function(a,c){a=a.addLocationMode!==this.props.addLocationMode||a.enableDropPin!==this.props.enableDropPin||!b("areEqual")(a.highlightLocations,this.props.highlightLocations)||!b("areEqual")(a.locations,this.props.locations)||!b("areEqual")(a.excludedLocations,this.props.excludedLocations)||!b("areEqual")(a.mapHasFocus,this.props.mapHasFocus)||!b("LeafletUtils").areViewEqual(a.view,this.props.view);c=c!==void 0&&(c.size!=this.state.size||!b("LeafletUtils").areViewEqual(c.view,this.state.view)||c.popupLocationKey!==this.state.popupLocationKey||c.locating!=this.state.locating);return a||c};a.prototype.render=function(){var a=null;this.state.locating?a=this.props.addLocationMode===b("LocationConstants").INCLUDE?"_3aio":"_3aiw":a="_3-cr";var c=[],d=[];this.$4(this.props.locations,!1,c,d);this.$4(this.props.excludedLocations,!0,c,d);return b("React").createElement(b("FBTilesMap.react"),{className:a,eventHandlers:{click:this.$5},options:this.state.mapOptions,showReportButton:!1,showZoomControls:!1,view:this.state.view,onSizeSettled:this.$6,onViewChange:this.$3},this.$7(),c,d)};a.prototype.$18=function(a){var c=a.meta;if(!this.props.onSingleNodeClick||b("immutable").Set.isSet(c)&&c.size!==1){this.$19(a);return}a=b("immutable").Set.isSet(c)?c.first():c;this.props.onSingleNodeClick(a.getID())};a.prototype.$11=function(a){switch(this.props.clickBehavior){case o.DEFAULT:case o.ZOOM_TO_MARKER:return function(){return this.$20(a)}.bind(this);case o.ZOOM_TO_NEXT_RANGE:return function(){return this.$19(a)}.bind(this);case o.INVOKE_CALLBACK_ON_SINGLE_NODE:return function(){return this.$18(a)}.bind(this);default:return b("emptyFunction")}};a.prototype.$20=function(a){a=this.$2(this.state.size,b("immutable").Set.of(a));this.$3(a)};a.prototype.$19=function(a){this.$3(n(a,this.state.view.zoom))};a.propTypes={addLocationMode:c.string.isRequired,addingLocation:c.bool,clickBehavior:c.oneOf(Object.keys(o)),disableCollapseButton:c.bool,disableScrollWheelZoom:c.bool,enableDropPin:c.bool.isRequired,excludedLocations:c.instanceOf(b("immutable").Set).isRequired,fitLocations:c.instanceOf(b("immutable").Set).isRequired,forceUpdate:c.bool,hideAllControls:c.bool,highlightLocations:c.instanceOf(b("immutable").Set).isRequired,locations:c.instanceOf(b("immutable").Set).isRequired,mapHasFocus:c.bool,maxBounds:c.instanceOf(b("leaflet").LatLngBounds),menuItems:c.object,onlyInclusion:c.bool.isRequired,showPopupOnHover:c.bool,view:c.instanceOf(b("LeafletView")),onAddLocationFromMap:c.func.isRequired,onCollapseMap:c.func.isRequired,onPopupMenuItemSelect:c.func.isRequired,onViewChange:c.func};a.defaultProps={clickBehavior:o.DEFAULT,mapHasFocus:!0};e.exports=a}),null);
__d("AdsTargetingLocationMapMetaRecord",["cx","AdsCommonLocalMapUtils","AdsTargetingLocationUtils","GeoCoordinates","LeafletUtils","LocationConstants","immutable","leaflet","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i={},j=new Map(),k=350,l=Object.freeze({NONE:0,SHIFT_LEFT:-1,SHIFT_RIGHT:1});a=babelHelpers.inherits(m,b("immutable").Record({center:null,circleCenter:null,coordinateLists:null,geoLocation:null,icon:null,meta:null,name:null,popup:null,radius:0}));h=a&&a.prototype;function m(a){h.constructor.call(this,a)}m.prototype.hashCode=function(){var a=b("AdsTargetingLocationUtils").getUniqueKey(this.geoLocation);j.has(a)||j.set(a,b("AdsTargetingLocationUtils").getHashCode(this.geoLocation));return b("nullthrows")(j.get(a))};m.fromGeoLocations=function(a,c){var d=[];b("LocationConstants").locationTypes.forEach(function(b){(a[b]||[]).forEach(function(a){if(a.latitude==null||a.longitude==null)return;d.push(this.fromGeoLocationCached(a,c(a)))}.bind(this))}.bind(this));return b("immutable").Set(d)};m.fromGeoLocationCached=function(a,c){var d=b("AdsTargetingLocationUtils").getUniqueKey(a);i[d]||(i[d]=this.fromGeoLocation(a,c));return i[d]};m.fromGeoLocation=function(a,c){var d=[],e=0,f=new(b("GeoCoordinates"))(Number(a.latitude),Number(a.longitude));a.polygons&&a.polygons.length&&(d=this.generatePolygonLists(a.polygons));a.radius&&a.distance_unit&&(e=b("AdsTargetingLocationUtils").getRadiusInMeters(a.radius,a.distance_unit));return new m({center:f,coordinateLists:b("immutable").List(d),geoLocation:a,icon:null,meta:c,name:a.name,popup:null,radius:e})};m.generatePolygonLists=function(a){__p&&__p();var c=b("leaflet").latLngBounds(a),d=l.NONE;if(c.getEast()-c.getWest()>k){var e=this.boundsForShiftedMultipolygons(a,l.SHIFT_LEFT),f=this.boundsForShiftedMultipolygons(a,l.SHIFT_RIGHT);c=Math.abs(c.getEast()-c.getWest());var g=Math.abs(e.getEast()-e.getWest()),h=Math.abs(f.getEast()-f.getWest());(g<=c||h<=c)&&(Math.abs(e.getCenter().lng)<=Math.abs(f.getCenter().lng)?d=l.SHIFT_LEFT:d=l.SHIFT_RIGHT)}var i=[];a.forEach(function(a){var c=[];a.forEach(function(a){c.push(new(b("GeoCoordinates"))(Number(a.lat),this.shiftLongitude(b("LeafletUtils").wrapLongitude(Number(a.lng)),d)))}.bind(this));i.push(b("immutable").List(c))}.bind(this));return i};m.shiftLongitude=function(a,b){b===l.SHIFT_LEFT?a=a<0?a:a-360:b===l.SHIFT_RIGHT&&(a=a>0?a:a+360);return a};m.boundsForShiftedMultipolygons=function(a,c){var d=[];a.forEach(function(a){var e=[];a.forEach(function(a){e.push(b("LeafletUtils").toLatLng(new(b("GeoCoordinates"))(Number(a.lat),this.shiftLongitude(b("LeafletUtils").wrapLongitude(Number(a.lng)),c))))}.bind(this));d.push(e)}.bind(this));return b("leaflet").latLngBounds(d)};m.iconForSingleLocationSelected=function(){return b("leaflet").divIcon(babelHelpers["extends"]({},b("AdsCommonLocalMapUtils").LEAFLET_MARKER_LOCATION_PIN_ICON_SELECTED_OPTIONS,{className:"_tl9"}))};m.iconForSingleLocationNotSelected=function(){return b("leaflet").divIcon(babelHelpers["extends"]({},b("AdsCommonLocalMapUtils").LEAFLET_MARKER_LOCATION_PIN_ICON_NOT_SELECTED_OPTIONS,{className:"_tla"}))};e.exports=m}),null);
__d("AdsTargetingLocationMapRecord",["AdsTargetingLocationMapMetaRecord","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("AdsTargetingLocationMapMetaRecord"));g&&g.prototype;a.fromGeoLocation=function(a){return b("AdsTargetingLocationMapMetaRecord").fromGeoLocation(a,void 0)};a.fromGeoLocationCached=function(a){return b("AdsTargetingLocationMapMetaRecord").fromGeoLocationCached(a,void 0)};a.fromGeoLocations=function(a){return b("AdsTargetingLocationMapMetaRecord").fromGeoLocations(a,b("emptyFunction"))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBDragHandle.react",["cx","EventListener","React","emptyFunction","joinClasses","throttle"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=0,this.$3=0,this.$4=!1,this.$5=!1,this.$6=null,this.$7=null,this.$8=null,this.$9=!1,this.$12=function(){this.$13(),this.$7=b("EventListener").listen(document.body,"mousemove",b("throttle")(this.$14,this.props.throttle)),this.$8=b("EventListener").listen(document.body,"mouseup",b("throttle")(this.$15,this.props.throttle)),this.$6=b("EventListener").listen(document.body,"mouseleave",b("throttle")(this.$15,this.props.throttle))}.bind(this),this.$13=function(){this.$7&&(this.$7.remove(),this.$7=null),this.$8&&(this.$8.remove(),this.$8=null),this.$6&&(this.$6.remove(),this.$6=null)}.bind(this),this.$14=function(a){this.$16(a.pageX,a.pageY,a)}.bind(this),this.$10=function(a){__p&&__p();if(a.button!==0)return;a.preventDefault();if(this.props.delay>0){this.$4=!0;var b=a.pageX,c=a.pageY;setTimeout(function(){this.$4&&this.$17(b,c)}.bind(this),this.props.delay)}else this.$17(a.pageX,a.pageY)}.bind(this),this.$11=function(a){this.$4=!1}.bind(this),this.$15=function(a){this.$18(a.pageX,a.pageY)}.bind(this),this.$17=function(a,b){this.$5=!0,this.$2=a,this.$3=b,this.$1=this.props.initialData(),this.$9=!1,this.$12(),this.props.threshold===0&&this.props.onStart(this.$1,this.$2,this.$3)}.bind(this),this.$18=function(a,b){a=this.$1;this.$5=!1;this.$2=0;this.$3=0;this.$1=null;this.$13();this.props.onEnd(a)}.bind(this),c}a.prototype.render=function(){"use strict";var a=this.props,c=a.className,d=a.cursor,e=a.horizontal;a=a.vertical;c=b("joinClasses")(c,"_2ciy"+(d==="auto"&&e?" _484s":"")+(d==="auto"&&a?" _484t":"")+(d==="auto"&&e&&a?" _484u":"")+(d==="nesw-resize"?" _484x":"")+(d==="nwse-resize"?" _484y":""));e=babelHelpers["extends"]({},this.props);e.onChange=null;return b("React").createElement("div",babelHelpers["extends"]({},e,{className:c,onMouseDown:this.$10,onMouseUp:this.$11,onMouseLeave:this.props.stopOnLeave?this.$11:null}),this.props.children)};a.prototype.$16=function(a,b,c){"use strict";if(!this.$5)return;var d=a-this.$2,e=b-this.$3;this.props.threshold>0&&!this.$9&&(Math.abs(d)>=this.props.threshold||Math.abs(e)>=this.props.threshold)&&(this.props.onStart(this.$1,this.$2,this.$3),this.$9=!0);(this.props.threshold===0||this.$9)&&this.props.onChange(this.props.horizontal?d:0,this.props.vertical?e:0,a,b,this.$1,c)};a.propTypes={className:c.string,cursor:c.oneOf(["none","auto","nesw-resize","nwse-resize"]).isRequired,delay:c.number.isRequired,horizontal:c.bool.isRequired,initialData:c.func.isRequired,onChange:c.func.isRequired,onEnd:c.func.isRequired,onStart:c.func.isRequired,stopOnLeave:c.bool.isRequired,threshold:c.number.isRequired,throttle:c.number.isRequired,vertical:c.bool.isRequired};a.defaultProps={cursor:"auto",delay:0,horizontal:!1,initialData:b("emptyFunction").thatReturns(null),onChange:b("emptyFunction"),onEnd:b("emptyFunction"),onStart:b("emptyFunction"),stopOnLeave:!0,threshold:0,throttle:25,vertical:!1};e.exports=a}),null);
__d("XUIDialogSubmitButton.react",["fbt","React","XUIDialogButton.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialogButton.react"),babelHelpers["extends"]({},this.props,{action:"confirm",label:g._("Enviar")}))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("EventPermalinkCameraFramesLogging",["EventsActionsLogger"],(function(a,b,c,d,e,f){"use strict";e.exports={logClick:function(a,c,d){b("EventsActionsLogger").log(this._eventID,{type:b("EventsActionsLogger").Type.CLICK,target:a,surface:b("EventsActionsLogger").Surface.PERMALINK,mechanism:b("EventsActionsLogger").Mechanism.PERMALINK,target_id:c,acontext:d},{})}}}),null);
__d("MediaEffectOwnerHubHeader.react",["fbt","Link.react","React","XMediaEffectHubController","XUICardHeader.react","XUICardHeaderTitle.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.hubLinkTab;a=a.title;var d=null;if(c){c=b("XMediaEffectHubController").getURIBuilder().setEnum("tab",c).getURI();var e=g._("Gerenciar efeitos");d=b("React").createElement(b("Link.react"),{href:c,target:"_blank"},e)}return b("React").createElement(b("XUICardHeader.react"),{link:d,type:"secondary"},b("React").createElement(b("XUICardHeaderTitle.react"),null,a))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("EventPermalinkCameraFramesCreate.react",["cx","fbt","ix","AsyncDialog","AsyncRequest","EventPermalinkCameraFramesLogging","EventsActionsLogger","EventsPermalinkTabBar","Image.react","MediaEffectCreateStep","MediaEffectCreationReferrer","MediaEffectFlowType","MediaEffectHubViewTab","MediaEffectOwnerHubHeader.react","MediaEffectWebdriverIDs","React","ShimButton.react","XMediaEffectCreateDialogController","XUICard.react","XUICardSection.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("EventPermalinkCameraFramesLogging").logClick(b("EventsActionsLogger").Target.FRAME_CREATE_RHC,this.props.eventID,this.props.actionContext);var a=b("XMediaEffectCreateDialogController").getURIBuilder().setEnum("flow_type",b("MediaEffectFlowType").EVENT).setFBID("source_id",this.props.eventID).setEnum("step",b("MediaEffectCreateStep").CREATE).setString("action_context",JSON.stringify(this.props.actionContext)).setEnum("active_tab",b("EventsPermalinkTabBar").getCurrentTab()).setEnum("ref",b("MediaEffectCreationReferrer").EVENT_PAGE).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a))}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("XUICard.react"),{className:"_634s"},b("React").createElement(b("MediaEffectOwnerHubHeader.react"),{title:this.props.title,hubLinkTab:b("MediaEffectHubViewTab").HOME}),b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("ShimButton.react"),{className:"_weu","data-testid":b("MediaEffectWebdriverIDs").HUB_EFFECT_CREATE_BUTTON,onClick:this.$1},b("React").createElement(b("Image.react"),{src:i("293229")}),b("React").createElement("h1",{className:"_1x8l"},h._("Ajude as pessoas a compartilhar no seu evento")),b("React").createElement("p",{className:"_wev"},h._("Crie um tema de c\u00e2mera personalizado para seu evento usando modelos pr\u00e1ticos. As pessoas podem adicion\u00e1-lo \u00e0s fotos e v\u00eddeos que compartilham com amigos.")),b("React").createElement("p",{className:"_wew"},h._("Come\u00e7ar")))))};e.exports=a}),null);
__d("EventPermalinkCameraFramesCreateWithDefaultFrame.react",["cx","fbt","ix","AsyncDialog","AsyncRequest","Button.react","DialogX","EventPermalinkCameraFramesLogging","EventsActionsLogger","FBToggleSwitch.react","FXEntMediaEffectStatus","Image.react","MediaEffectCreateStep","MediaEffectCreationReferrer","MediaEffectFlowType","MediaEffectHubViewTab","MediaEffectMetadataActionCreators","MediaEffectOwnerHubHeader.react","React","XMediaEffectCreateDialogController","XUICard.react","XUICardSection.react","XUIText.react","BackgroundImage.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=100,l=158;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("EventPermalinkCameraFramesLogging").logClick(b("EventsActionsLogger").Target.FRAME_CREATE_RHC,this.props.eventID,this.props.actionContext);var a=b("XMediaEffectCreateDialogController").getURIBuilder().setEnum("flow_type",b("MediaEffectFlowType").EVENT).setFBID("source_id",this.props.eventID).setEnum("step",b("MediaEffectCreateStep").CREATE).setEnum("ref",b("MediaEffectCreationReferrer").EVENT_PAGE).getURI(),c=this.props.effect.effectData.id;b("AsyncDialog").send(new(b("AsyncRequest"))(a),function(a){a.subscribe(["hide","success"],function(a,b){this.props.effectUpdateHandler(c)}.bind(this))}.bind(this))}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){b("MediaEffectMetadataActionCreators").initFrameData(this.props.effect.effectEditorData)};a.prototype.isToggleEnabled=function(){var a=this.props.effect.effectData.status;return a===b("FXEntMediaEffectStatus").INACTIVE||a===b("FXEntMediaEffectStatus").ACTIVE};a.prototype.render=function(){var a=this.props.effect.effectData,c=a.status;return b("React").createElement(b("XUICard.react"),{className:"_634s"},b("React").createElement(b("MediaEffectOwnerHubHeader.react"),{title:this.props.title,hubLinkTab:b("MediaEffectHubViewTab").HOME}),b("React").createElement(b("XUICardSection.react"),null,b("React").createElement("div",{className:"_46ca"},a.hasEnabledActivations?b("React").createElement(b("Image.react"),{src:i("353079")}):b("React").createElement(b("Image.react"),{src:i("353078")}),b("React").createElement("div",{className:"_46cb"},this.isToggleEnabled()?b("React").createElement(b("FBToggleSwitch.react"),{checked:c===b("FXEntMediaEffectStatus").ACTIVE,animate:!0,onToggle:function(){return this.props.toggleEventHandler(a.id,c===b("FXEntMediaEffectStatus").INACTIVE)}.bind(this),tooltip:c===b("FXEntMediaEffectStatus").ACTIVE?h._("Seu tema da c\u00e2mera est\u00e1 ativado"):h._("O tema da sua c\u00e2mera est\u00e1 desativado")}):null),b("React").createElement("div",{className:"_46cd"},b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"contain",height:l,src:a.thumbnailPortrait,width:k})),b("React").createElement("div",{className:"_46cf"},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold",className:"_46cg"},h._("Ajude as pessoas a compartilhar no seu evento")),b("React").createElement("p",{className:"_46ch"},h._("Voc\u00ea pode usar o tema padr\u00e3o da c\u00e2mera ou criar um tema personalizado para seus convidados usarem nas fotos e v\u00eddeos que eles compartilham.")),b("React").createElement("div",{className:"_46ci"},b("React").createElement(b("Button.react"),{onClick:this.$1,use:"default",label:h._("Carregar novo")}))))))};e.exports=a}),null);
__d("MediaEffectGenerationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTO_GENERATED:"auto_generated",USER_GENERATED:"user_generated",UNKNOWN:""})}),null);
__d("MediaEffectOwnerHubEffectCard.react",["cx","fbt","AsyncDialog","AsyncRequest","ContextualDialogArrow","ContextualLayerAutoFlip","FXEntMediaEffectStatus","Layout.react","List.react","MediaEffectContentStatusTitle.react","MediaEffectMetadataActionCreators","Link.react","Log","MediaEffectCreateStep","MediaEffectHubViewTab","MediaEffectOwnerHubHeader.react","MediaEffectReactFrameEditorPreviewCanvasContainer.react","PopoverMenu.react","React","ReactXUIMenu","XMediaEffectCreateDialogController","XUICard.react","XUICardSection.react","XUIText.react","MediaEffectCreationReferrer"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=b("ReactXUIMenu").Item,m="archive",n="toggle";c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.onEffectLinkClick=function(){var a=b("XMediaEffectCreateDialogController").getURIBuilder().setEnum("flow_type",this.props.flowType).setEnum("step",b("MediaEffectCreateStep").EDIT).setFBID("media_effect_id",this.props.effectID).setEnum("ref",b("MediaEffectCreationReferrer").HUB).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a),function(a){a.subscribe(["hide","success"],function(a,b){this.props.effectUpdateHandler(this.props.effectID)}.bind(this))}.bind(this))}.bind(this),this.onMenuItemClick=function(a,c){a=c.item.getValue();switch(a){case n:this.isToggleEnabled()&&this.props.toggleEventHandler(this.props.effectID,this.props.effect.effectData.status===b("FXEntMediaEffectStatus").INACTIVE);break;case m:this.props.archiveEventHandler(this.props.effect.effectData);break;default:b("Log").warn("Unexpected action sent to this handler: "+a)}}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){b("MediaEffectMetadataActionCreators").initFrameData(this.props.effect.effectEditorData)};a.prototype.buildMenu=function(){var a=this.props.effect.effectData.status;a=a===b("FXEntMediaEffectStatus").INACTIVE?h._("Ativar"):h._("Desativar");var c=this.isToggleEnabled();return b("React").createElement(b("ReactXUIMenu"),{onItemClick:this.onMenuItemClick},b("React").createElement(l,{value:n},b("React").createElement("span",{className:(c?"_2ugo":"")+(c?"":" _2ugp")},a)),b("React").createElement(l,{value:m},h._("Arquivar")))};a.prototype.isToggleEnabled=function(){var a=this.props.effect.effectData.status;return a===b("FXEntMediaEffectStatus").INACTIVE||a===b("FXEntMediaEffectStatus").ACTIVE};a.prototype.render=function(){return b("React").createElement(b("XUICard.react"),null,b("React").createElement(b("MediaEffectOwnerHubHeader.react"),{hubLinkTab:b("MediaEffectHubViewTab").MANAGE,title:this.props.title}),b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("Layout.react"),{className:"_2ugq"},b("React").createElement(j,null,b("React").createElement(b("MediaEffectReactFrameEditorPreviewCanvasContainer.react"),{previewHeight:80,previewWidth:80})),b("React").createElement(k,{className:"_2ugr"},b("React").createElement(b("List.react"),{border:"none",spacing:"small"},b("React").createElement("li",null,b("React").createElement(b("Link.react"),{href:"#",onClick:this.onEffectLinkClick},b("React").createElement(b("XUIText.react"),null,this.props.effect.effectData.name))),b("React").createElement("li",null,b("React").createElement(b("MediaEffectContentStatusTitle.react"),{className:"_2ugs",status:this.props.effect.effectData.status})),b("React").createElement("li",null,b("React").createElement(b("XUIText.react"),null,h._({"*":{"*":"{activateCount} usos","_1":"{activateCount} uso"}},[h._param("activateCount",this.props.effect.effectData.activateCount,[0]),h._plural(this.props.effect.effectData.activateCount)]))))),b("React").createElement(j,{className:"_2ugt"},b("React").createElement(b("PopoverMenu.react"),{alignh:"right",behaviors:[b("ContextualDialogArrow")],layerBehaviors:[b("ContextualLayerAutoFlip")],menu:this.buildMenu(),position:"below"},b("React").createElement("div",{className:"_2ugu"}))))))};e.exports=a}),null);
__d("MediaEffectOwnerHubNullStateCard.react",["cx","invariant","EventPermalinkCameraFramesCreate.react","EventPermalinkCameraFramesCreateWithDefaultFrame.react","MediaEffectFlowType","MediaEffectGenerationType","MediaEffectOwnerHubHeader.react","React","XUICard.react","XUICardSection.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a;switch(this.props.flowType){case b("MediaEffectFlowType").EVENT:a=(a=this.props)!=null?(a=a.optionalData)!=null?a.eventActionContext:a:a;a||h(0,2136);var c=this.props.effect;if(c&&c.effectData&&c.effectData.generationType===b("MediaEffectGenerationType").AUTO_GENERATED)return b("React").createElement(b("EventPermalinkCameraFramesCreateWithDefaultFrame.react"),{actionContext:a,effect:c,effectUpdateHandler:this.props.effectUpdateHandler,eventID:this.props.owner,flowType:this.props.flowType,key:"EffectCard"+c.effectData.id,title:this.props.title,toggleEventHandler:this.props.toggleEventHandler});else return b("React").createElement(b("EventPermalinkCameraFramesCreate.react"),{actionContext:a,eventID:this.props.owner,title:this.props.title});default:return b("React").createElement(b("XUICard.react"),{className:"_634s"},b("React").createElement(b("MediaEffectOwnerHubHeader.react"),{title:this.props.title}),b("React").createElement(b("XUICardSection.react"),null,b("React").createElement("div",{className:"_fw6"},"No data!")))}};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("MediaEffectStoreSharedDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!1})}),null);
__d("XMediaEffectAsyncFetchEffectController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fbcameraeffects/async_load_effect/",{effect_ids:{type:"FBIDSet"}})}),null);
__d("MediaEffectStore",["AsyncRequest","FluxLoadObjectStore","LoadObject","MediaEffectGenerationType","MediaEffectStoreSharedDispatcher","XMediaEffectAsyncFetchEffectController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),a.explicitlyRegisterStore(this)}a.prototype.reduce=function(a,c){__p&&__p();switch(c.action){case"media_effect/add":return this.__handleOne(a,c.key,c.value);case"media_effect_saved":var d=a.filter(function(a,c){c=a.getValue();return((a=c)!=null?(a=a.effectData)!=null?a.generationType:a:a)===b("MediaEffectGenerationType").USER_GENERATED});return this.__handleOne(d,c.effect.effectData.id,c.effect);case"media_effect/bootstrap":c.bootstrapData.forEach(function(c){a.set(c.effect,b("LoadObject").withValue(c.data))});break;case"media_effect/error":return this.__handleOne(a,c.key,c.error);case"media_effect/reload":this.__load(c.key);return a.remove(c.key);case"media_effect/remove":return a.remove(c.key);case"media_effect/update_effect":d=a.get(c.key).getValue();if(d){d=Object.assign({},d);d.effectData=c.effectData;return this.__handleOne(a.remove(c.key),c.key,d)}break}return a};a.prototype.__load=function(a){var c=b("XMediaEffectAsyncFetchEffectController").getURIBuilder().setFBIDSet("effect_ids",[a]).getRequest(new(b("AsyncRequest"))());c.setPayloadHandler(function(c){b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect/add",key:a,value:c.effects[0]})}).setErrorHandler(function(c){b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect/error",key:a,error:c.getError()})}).send()};a.__moduleID=e.id;e.exports=new a(b("MediaEffectStoreSharedDispatcher"))}),null);
__d("MediaEffectOwnerStore",["AsyncRequest","FluxLoadObjectStore","FXEntMediaEffectStatus","LoadObject","MediaEffectStore","MediaEffectStoreSharedDispatcher","XMediaEffectAsyncFetchController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[b("FXEntMediaEffectStatus").ACTIVE,b("FXEntMediaEffectStatus").COMPLETED,b("FXEntMediaEffectStatus").DRAFT,b("FXEntMediaEffectStatus").IN_REVIEW,b("FXEntMediaEffectStatus").INACTIVE,b("FXEntMediaEffectStatus").NOT_APPROVED,b("FXEntMediaEffectStatus").SCHEDULED];c=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),a.explicitlyRegisterStore(this)}a.prototype.reduce=function(a,c){__p&&__p();switch(c.action){case"media_effect_owner/add":return this.__handleOne(a,c.key,{ownerID:c.key,effects:c.effects});case"media_effect_owner/bootstrap":c.bootstrapData.forEach(function(c){a.set(c.ownerID,b("LoadObject").withValue(c))});break;case"media_effect_owner/error":return this.__handleOne(a,c.key,c.error);case"media_effect_owner/reload":this.__load(c.key);return a.remove(c.key);case"media_effect_owner/remove":return a.remove(c.key);case"media_effect_owner/update_add_effect":var d=a.get(c.key).getValue();if(d){d.effects.push(c.effect);return this.__handleOne(a,c.key,{ownerID:c.key,effects:d.effects})}break;case"media_effect_saved":d=c.effect.effectData.owner.id;var e=a.get(d).getValue();if(e){this.$MediaEffectOwnerStore1();return this.__handleOne(a,d,{ownerID:d,effects:b("MediaEffectStore").getState().keySeq().toArray()})}break;case"media_effect_owner/update_remove_effect":e=a.get(c.key).getValue();if(e&&e.effects.indexOf(c.effect)>=0){d=e.effects;d.splice(d.indexOf(c.effect),1);return this.__handleOne(a,c.key,{ownerID:c.key,effects:d})}break}return a};a.prototype.$MediaEffectOwnerStore1=function(){b("MediaEffectStoreSharedDispatcher").waitFor([b("MediaEffectStore").getDispatchToken()])};a.prototype.__load=function(a){var c=b("XMediaEffectAsyncFetchController").getURIBuilder().setFBIDSet("owner_ids",[a]).setEnumSet("statuses",h).getRequest(new(b("AsyncRequest"))());c.setPayloadHandler(function(c){b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect_owner/add",key:a,effects:c.effects.map(function(a){return a.id})})}).setErrorHandler(function(c){b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect_owner/error",key:a,error:c.getError()})}).send()};a.__moduleID=e.id;e.exports=new a(b("MediaEffectStoreSharedDispatcher"))}),null);
__d("MediaEffectStoresBootstrapper",["MediaEffectFrameEditorDispatcher","MediaEffectMetadataActionCreators","MediaEffectOwnerStore","MediaEffectReactFrameEditorCanvasDataStore","MediaEffectReactFrameEditorDataStore","MediaEffectStore","MediaEffectStoreSharedDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("MediaEffectReactFrameEditorDataStore"),b("MediaEffectReactFrameEditorCanvasDataStore")],h=[b("MediaEffectStore"),b("MediaEffectOwnerStore")];a={isBootstrapped:!1,getEditorStores:function(){return g},getMediaEffectStores:function(){return h},bootstrap:function(){if(this.isBootstrapped)return;b("MediaEffectFrameEditorDispatcher").explicitlyRegisterStores(this.getEditorStores());b("MediaEffectStoreSharedDispatcher").explicitlyRegisterStores(this.getMediaEffectStores());this.bootstrapFontData();this.isBootstrapped=!0},bootstrapWithData:function(a){if(this.isBootstrapped)return;b("MediaEffectFrameEditorDispatcher").explicitlyRegisterStores(this.getEditorStores());b("MediaEffectStoreSharedDispatcher").explicitlyRegisterStores(this.getMediaEffectStores());a.fontData?b("MediaEffectMetadataActionCreators").addFontData(a.fontData):this.bootstrapFontData();a.ownerData&&b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect_owner/bootstrap",bootstrapData:a.ownerData});a.effectData&&b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect/bootstrap",bootstrapData:a.effectData});this.isBootstrapped=!0},bootstrapFontData:function(){b("MediaEffectMetadataActionCreators").bootstrapFontData()}};e.exports=a}),null);
__d("MediaEffectOwnerHubContainer.react",["cx","AsyncRequest","AsyncResponse","CenteredContainer.react","FluxContainer","MediaEffectFlowType","MediaEffectGenerationType","MediaEffectHubEffectActionConfig","MediaEffectOwnerHubEffectCard.react","MediaEffectOwnerHubHeader.react","MediaEffectOwnerHubNullStateCard.react","MediaEffectOwnerStore","MediaEffectStore","MediaEffectStoresBootstrapper","MediaEffectStoreSharedDispatcher","React","XMediaEffectHubEffectActivationAsyncController","XUICard.react","XUISpinner.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k=b("immutable").Set;h=babelHelpers.inherits(l,b("React").PureComponent);h&&h.prototype;l.prototype.render=function(){return b("React").createElement(b("XUICard.react"),null,b("React").createElement(b("MediaEffectOwnerHubHeader.react"),{title:this.props.title}),b("React").createElement(b("XUICard.react"),null,b("React").createElement(b("CenteredContainer.react"),{className:"_60ll"},b("React").createElement(b("XUISpinner.react"),{size:"large"}))))};function l(){h.apply(this,arguments)}i=babelHelpers.inherits(m,b("React").PureComponent);i&&i.prototype;m.prototype.render=function(){return b("React").createElement(b("XUICard.react"),null,b("React").createElement(b("MediaEffectOwnerHubHeader.react"),{title:this.props.title}),b("React").createElement(b("XUICard.react"),null,b("React").createElement("div",{className:"_5-nb"},this.props.errorMessage)))};function m(){i.apply(this,arguments)}a=babelHelpers.inherits(n,b("React").PureComponent);j=a&&a.prototype;n.getStores=function(){return[b("MediaEffectStore"),b("MediaEffectOwnerStore")]};n.calculateState=function(a){__p&&__p();var c={isLoading:!0};if(!a)return c;var d=b("MediaEffectOwnerStore").get(a.ownerID);if(d.hasError()){var e=d.getError();e&&(c={errorMessage:e.message,isError:!0,isLoading:!1})}if(!d.hasValue())return c;e=a.defaultFlowType;d=d.getValueEnforcing().effects;if(d==null)return c;if(d.length===0)c={effectData:null,effectIDs:[],flowType:e,isError:!1,isLoading:!1,selectedEffectIndex:-1};else{a=a.selectedEffectIndex<d.length&&a.selectedEffectIndex>=0?a.selectedEffectIndex:0;var f=b("MediaEffectStore").get(d[a]);if(f.hasError()){var g=f.getError();g&&(c={errorMessage:g.message,isError:!0,isLoading:!1})}else if(f.hasValue()){g=f.getValueEnforcing();e=g.effectData.flowType;c={effectData:g,effectIDs:d,flowType:e,isError:!1,isLoading:!1,selectedEffectIndex:a}}else c={isLoading:!0}}return c};function n(a){__p&&__p();j.constructor.call(this,a);this.effectUpdateHandler=function(a){var c=this.state.effectIDs.length>0&&this.state.selectedEffectIndex>=0?this.state.effectIDs[this.state.selectedEffectIndex]:"";a===c&&this.setState({isLoading:!0});b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect/reload",key:a})}.bind(this);this.archiveEventHandler=function(a){b("MediaEffectHubEffectActionConfig").archive.onClick(k([a]),function(){this.setState({isLoading:!0}),b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect_owner/update_remove_effect",key:this.state.ownerID,effect:a.id})}.bind(this))}.bind(this);a={defaultFlowType:a.flowType?a.flowType:b("MediaEffectFlowType").BASIC_HUB,effectData:null,effectIDs:[],errorMessage:"",flowType:a.flowType?a.flowType:b("MediaEffectFlowType").BASIC_HUB,isError:!1,isLoading:!0,ownerID:a.owner,selectedEffectIndex:-1};var c=n.calculateState(a);this.state=Object.assign({},a,c)}n.prototype.UNSAFE_componentWillMount=function(){b("MediaEffectStoresBootstrapper").bootstrap()};n.prototype.toggleEventHandler=function(a,c){new(b("AsyncRequest"))().setURI(b("XMediaEffectHubEffectActivationAsyncController").getURIBuilder().getURI()).setData({activate:c,effect_ids:[a]}).setHandler(function(a){a=a.getPayload().effects;a.map(function(a){b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect/update_effect",key:a.id,effectData:a})})}).setErrorHandler(function(a){b("AsyncResponse").defaultErrorHandler(a)}).send()};n.prototype.render=function(){__p&&__p();var a=this.props,c=a.title;a=a.optionalData;var d=this.state,e=d.effectData,f=d.effectIDs,g=d.errorMessage,h=d.flowType,i=d.isError,j=d.isLoading;d=d.ownerID;if(i)return b("React").createElement(m,{errorMessage:g,title:c});else if(j)return b("React").createElement(l,{title:c});else if(f.length>0&&e&&e.effectData.generationType===b("MediaEffectGenerationType").USER_GENERATED){i=e;return b("React").createElement(b("MediaEffectOwnerHubEffectCard.react"),{archiveEventHandler:this.archiveEventHandler,effect:i,effectID:i.effectData.id,effectUpdateHandler:this.effectUpdateHandler,flowType:h,key:"EffectCard"+i.effectData.id,title:c,toggleEventHandler:this.toggleEventHandler})}else return b("React").createElement(b("MediaEffectOwnerHubNullStateCard.react"),{effect:e,effectUpdateHandler:this.effectUpdateHandler,flowType:h,optionalData:a,owner:d,title:c,toggleEventHandler:this.toggleEventHandler})};e.exports=b("FluxContainer").create(n)}),null);
__d("MediaEffectOwnerHubWidgetInit",["MediaEffectOwnerHubContainer.react","MediaEffectStoresBootstrapper","React","ReactRenderer"],(function(a,b,c,d,e,f){"use strict";a={init:function(a){a.bootstrapData?b("MediaEffectStoresBootstrapper").bootstrapWithData(a.bootstrapData):b("MediaEffectStoresBootstrapper").bootstrap(),b("ReactRenderer").renderComponent(b("React").createElement(b("MediaEffectOwnerHubContainer.react"),a.ownerWidgetProps),a.root)}};e.exports=a}),null);