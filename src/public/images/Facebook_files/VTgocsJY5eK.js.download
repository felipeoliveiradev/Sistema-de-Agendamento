if (self.CavalryLogger) { CavalryLogger.start_js(["DRbXn"]); }

__d("AYMTHomepagePanelLogger",["BanzaiLogger","Event","tidyEvent"],(function(a,b,c,d,e,f){a={init:function(a,c){b("tidyEvent")(b("Event").listen(a,"click",function(a){b("BanzaiLogger").log("AYMTHomepagePanelLoggerConfig",c)}))}};e.exports=a}),null);
__d("FB4BResponsiveTabVerticalCaseStudiesController",["cx","CSS","DOMQuery","Event","FB4BResponsiveNavigationPagerController","KeyEventController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="_5q67",i="_5q68",j="_5q69",k=20,l=640,m="forward",n="backward",o="fade",p="slide",q=75;function a(a,c,d,e,f){__p&&__p();this.$1=a;this.$2=c;this.$3=0;this.$4=d;this.$5=e*1e3;this.$8=0;this.$7=0;this.$11=!1;this.$10=m;this.$13=f;this.$14=new(b("FB4BResponsiveNavigationPagerController"))(this.$2.tabNavigationPagerContainer,this.$15.bind(this),0);a=b("DOMQuery").scry(this.$2.tabLabelContainer,"a");this.$12=a[a.length-1];for(var c=0;c<this.$1.length;c++){d=this.$1[c].tabContent;e=this.$1[c].tabLabel;this.$7<d.offsetHeight&&(this.$7=d.offsetHeight);c==0?(b("CSS").addClass(e,i),this.$16(c)):b("CSS").addClass(d,h);this.$13===o&&(this.$1[c].tabImage.style.opacity="0");this.$17(c);b("Event").listen(e,"click",this.$15.bind(this,c));b("Event").listen(this.$1[c].tabCloseIcon,"click",this.$18.bind(this));b("Event").listen(e,"blur",this.$19.bind(this,c));b("Event").listen(window,"resize",this.$20.bind(this))}this.$21()}a.prototype.$21=function(){__p&&__p();var a=this.$2.tabLabelContainer;a.offsetHeight>this.$7&&(this.$7=a.offsetHeight);this.$7+=k;window.innerWidth>l&&this.$22(this.$7+"px");b("CSS").addClass(this.$2.tabContentContainer,j);this.$23(this.$2.tabSlideshow,this.$3);this.$4&&window.innerWidth>l&&(this.$6=setInterval(this.$24.bind(this),this.$5));b("Event").listen(this.$2.tabOverlay,"click",this.$18.bind(this));b("Event").listen(this.$2.tabContentContainer,"touchstart",this.$25.bind(this));b("Event").listen(this.$2.tabContentContainer,"touchend",this.$26.bind(this));b("Event").listen(this.$12,"blur",this.$27.bind(this));b("KeyEventController").registerKey("TAB",function(a){a.shiftKey?this.$10=n:this.$10=m,this.$11=!0}.bind(this))};a.prototype.$15=function(a,b){this.$4&&(this.$4=!1,clearInterval(this.$6)),window.innerWidth<=l?this.$28(a):this.$29(a),b.preventDefault()};a.prototype.$20=function(){window.innerWidth<=l?(this.$30(),this.$31(this.$3)):(this.$2.tabContentContainer.style.width="",this.$2.tabContentContainer.style.transform="none",this.$2.tabContentContainer.style.minHeight="0",this.$22(this.$7+"px"),this.$29(this.$3))};a.prototype.$25=function(a){this.$9=a.changedTouches[0].clientX};a.prototype.$26=function(a){a=a.changedTouches[0].clientX-this.$9;var b=this.$3;a<-q?b=this.$3+1:a>q&&(b=this.$3-1);a=a<0&&this.$3!==this.$1.length-1||a>0&&this.$3!==0;a&&this.$31(b)};a.prototype.$29=function(a){var c=this.$3,d=this.$1[a],e=this.$1[this.$3];this.$14.notify(a);b("CSS").addClass(e.tabContent,h);b("CSS").removeClass(e.tabLabel,i);b("CSS").removeClass(d.tabContent,h);b("CSS").addClass(d.tabLabel,i);this.$16(a);this.$3=a;this.$23(this.$2.tabSlideshow,c)};a.prototype.$16=function(a){var b=this.$1[a].tabLabel.offsetHeight,c=0,d=0;while(d<a)c+=this.$1[d].tabLabel.offsetHeight,d++;c+=k;this.$2.tabLine.style.height=b+"px";this.$2.tabLine.style.top=c+"px"};a.prototype.$24=function(){var a=this.$3+1;a===this.$1.length&&(a=0);this.$29(a)};a.prototype.$28=function(a){this.$30(),this.$31(a),b("CSS").removeClass(this.$2.tabContentContainer,h),b("CSS").removeClass(this.$2.tabNavigationPagerContainer,h)};a.prototype.$18=function(a){b("CSS").addClass(this.$2.tabContentContainer,h),b("CSS").addClass(this.$2.tabNavigationPagerContainer,h),a.preventDefault()};a.prototype.$30=function(){__p&&__p();var a=this.$1.length*window.innerWidth,b=window.innerWidth*.75+"px",c=0;for(var d=0;d<this.$1.length;d++)this.$1[d].tabContent.style.maxWidth=b;this.$2.tabContentContainer.style.width=a+"px";for(var d=0;d<this.$1.length;d++)c<this.$1[d].tabContent.clientHeight&&(c=this.$1[d].tabContent.clientHeight);this.$2.tabContentContainer.style.minHeight=c+"px";b=Math.ceil((window.innerHeight-c)/2)+k;this.$2.tabNavigationPagerContainer.style.top=b+c+"px";this.$22("0")};a.prototype.$31=function(a){var b=this.$3;this.$29(a);this.$23(this.$2.tabContentContainer,b)};a.prototype.$23=function(a,b){var c=window.innerWidth;this.$13===o&&(a.style.width="",a.style.transform="none",this.$1[b].tabImage.style.opacity="0",this.$1[this.$3].tabImage.style.opacity="1");(window.innerWidth<l||this.$13===p)&&(a.style.width=c*this.$1.length+"px",a.style.transform="translate3d(-"+c*this.$3+"px, 0, 0)")};a.prototype.$22=function(a){var b=this.$2.tabLabelContainer.parentNode;b&&b instanceof HTMLElement&&(b.style.minHeight=a)};a.prototype.$19=function(a){var c=b("DOMQuery").scry(this.$1[a].tabContent,"a");a===this.$3&&c.length>0&&(b("Event").listen(this.$1[this.$3].tabLabel,"blur",this.$32.bind(this,c[0],a)),b("Event").listen(c[c.length-1],"blur",this.$33.bind(this,a)));if(a===this.$3+1&&this.$10===n){c=b("DOMQuery").scry(this.$1[this.$3].tabContent,"a");c.length>0&&b("Event").listen(this.$1[this.$3+1].tabLabel,"blur",c[c.length-1].focus())}};a.prototype.$32=function(a,b){this.$11&&this.$10===m&&a.focus(),this.$11=!1};a.prototype.$33=function(a){this.$11&&(this.$10===m?a===this.$1.length-1?this.$12.focus():a<this.$1.length-1&&this.$1[a+1].tabLabel.focus():this.$1[this.$3].tabLabel.focus(),this.$11=!1)};a.prototype.$27=function(){if(this.$11&&this.$10===n&&this.$3===this.$1.length-1){var a=b("DOMQuery").scry(this.$1[this.$3].tabContent,"a");a.length>0&&a[a.length-1].focus()}};a.prototype.$17=function(a){a=b("DOMQuery").scry(this.$1[a].tabContent,"a");if(a.length>0)for(var c=0;c<a.length;c++)a[c].setAttribute("tabindex","-1")};e.exports=a}),null);