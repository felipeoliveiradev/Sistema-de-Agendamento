if (self.CavalryLogger) { CavalryLogger.start_js(["S4ZrH"]); }

__d("react-relay-deprecated/classic/store/RelayRecordWriter",["invariant","react-relay-deprecated/classic/interface/RelayNodeInterface","react-relay-deprecated/classic/legacy/store/GraphQLRange","react-relay-deprecated/classic/mutation/rangeOperationToMetadataKey","react-relay-deprecated/classic/store/RelayRecord","react-relay-deprecated/classic/store/RelayRecordStatusMap","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("relay-runtime").ConnectionInterface;c=b("relay-runtime").RangeOperations;var i="",j=c.APPEND,k=c.PREPEND,l=c.REMOVE;d=b("react-relay-deprecated/classic/store/RelayRecord").MetadataKey;var m=d.FILTER_CALLS,n=d.FORCE_INDEX,o=d.MUTATION_IDS,p=d.PATH,q=d.RANGE,r=d.RESOLVED_FRAGMENT_MAP,s=d.RESOLVED_FRAGMENT_MAP_GENERATION,t=d.STATUS;function a(a,b,c,d,e,f){this.$1=e,this.$2=f,this.$3=c,this.$5=d||{},this.$4=a,this.$6=b}a.prototype.getDataID=function(a,c){if(b("react-relay-deprecated/classic/interface/RelayNodeInterface").isNodeRootCall(a)){c!=null||g(0,935,a);return c}c==null&&(c=i);if(Object.prototype.hasOwnProperty.call(this.$6,a)&&Object.prototype.hasOwnProperty.call(this.$6[a],c))return this.$6[a][c]};a.prototype.putDataID=function(a,c,d){if(b("react-relay-deprecated/classic/interface/RelayNodeInterface").isNodeRootCall(a)){c!=null||g(0,936,a);return}c==null&&(c=i);this.$6[a]=this.$6[a]||{};this.$6[a][c]=d;this.$1&&this.$1.writeRootCall(a,c,d)};a.prototype.getRecordState=function(a){a=this.$4[a];if(a===null)return"NONEXISTENT";else if(a===void 0)return"UNKNOWN";return"EXISTENT"};a.prototype.putRecord=function(a,c,d){var e=this.$7(a);if(e)return;e=b("react-relay-deprecated/classic/store/RelayRecord").createWithFields(a,{__typename:c});this.$3&&this.$8(e);b("react-relay-deprecated/classic/store/RelayRecord").isClientID(a)&&d&&(e[p]=d);this.$4[a]=e;d=this.$1;!this.$3&&d&&d.writeField(a,"__dataID__",a,c)};a.prototype.getPathToRecord=function(a){return this.$9(a,p)};a.prototype.hasFragmentData=function(a,b){var c=this.$9(a,r);typeof c==="object"||c==null||g(0,937,a,typeof c);return!!(c&&c[b])};a.prototype.setHasDeferredFragmentData=function(a,b){this.$10(a,b,!0)};a.prototype.setHasFragmentData=function(a,b){this.$10(a,b,!1)};a.prototype.$10=function(a,b,c){var d=this.$7(a);d||g(0,951,a,b);a=d[r];(typeof a!=="object"||!a)&&(a={});a[b]=!0;d[r]=a;c&&(typeof d[s]==="number"?d[s]++:d[s]=0)};a.prototype.deleteRecord=function(a){this.$4[a]=null,this.$3||(delete this.$5[a],this.$1&&this.$1.writeNode(a,null))};a.prototype.getType=function(a){return this.$9(a,"__typename")};a.prototype.getField=function(a,b){return this.$9(a,b)};a.prototype.putField=function(a,b,c){var d=this.$7(a);d||g(0,938,a,b);d[b]=c;if(!this.$3&&this.$1){d=d.__typename;this.$1.writeField(a,b,c,d)}};a.prototype.deleteField=function(a,b){var c=this.$7(a);c||g(0,939,a,b);c[b]=null;!this.$3&&this.$1&&this.$1.writeField(a,b,null)};a.prototype.getLinkedRecordID=function(a,c){var d=this.$9(a,c);if(d==null)return d;d=b("react-relay-deprecated/classic/store/RelayRecord").getRecord(d);d||g(0,940,c,a);return b("react-relay-deprecated/classic/store/RelayRecord").getDataID(d)};a.prototype.putLinkedRecordID=function(a,c,d){var e=this.$7(a);e||g(0,941,a,d);d=b("react-relay-deprecated/classic/store/RelayRecord").create(d);e[c]=d;!this.$3&&this.$1&&this.$1.writeField(a,c,d)};a.prototype.getLinkedRecordIDs=function(a,c){var d=this.$9(a,c);if(d==null)return d;Array.isArray(d)||g(0,942,c,a);return d.map(function(d,e){d=b("react-relay-deprecated/classic/store/RelayRecord").getRecord(d);d||g(0,943,e,c,a);return b("react-relay-deprecated/classic/store/RelayRecord").getDataID(d)})};a.prototype.putLinkedRecordIDs=function(a,c,d){var e=this.$7(a);e||g(0,944,a);d=d.map(function(a){return b("react-relay-deprecated/classic/store/RelayRecord").create(a)});e[c]=d;!this.$3&&this.$1&&this.$1.writeField(a,c,d)};a.prototype.getRangeForceIndex=function(a){a=this.$9(a,n);return a===null?-1:a||0};a.prototype.getRangeFilterCalls=function(a){return this.$9(a,m)};a.prototype.putRange=function(a,c,d){__p&&__p();this.$3&&g(0,945);var e=this.$7(a);e||g(0,946,a);var f=new(b("react-relay-deprecated/classic/legacy/store/GraphQLRange"))();c=u(c);d=d||0;e[m]=c;e[n]=d;e[q]=f;e=this.$1;!this.$3&&e&&(e.writeField(a,m,c),e.writeField(a,n,d),e.writeField(a,q,f))};a.prototype.hasRange=function(a){return!!this.$9(a,q)};a.prototype.putRangeEdges=function(a,c,d,e){__p&&__p();var f=this.$9(a,q);f||g(0,947,a);var h=[];e.forEach(function(c){c=this.$11(c);h.push(c);c=b("react-relay-deprecated/classic/store/RelayRecord").getDataID(c.node);this.$12(a,c)}.bind(this));f.addItems(c,h,d);!this.$3&&this.$1&&this.$1.writeField(a,q,f)};a.prototype.applyRangeUpdate=function(a,b,c){this.$3?this.$13(a,b,c):this.$14(a,b,c)};a.prototype.$11=function(a){var c=h.get(),d=c.CURSOR;c=c.NODE;c=this.getLinkedRecordID(a,c);c||g(0,948,a);return b("react-relay-deprecated/classic/store/RelayRecord").createWithFields(a,{cursor:this.getField(a,d),node:b("react-relay-deprecated/classic/store/RelayRecord").create(c)})};a.prototype.$13=function(a,c,d){var e=this.$7(a);e||(e=b("react-relay-deprecated/classic/store/RelayRecord").create(a),this.$4[a]=e);this.$8(e);a=b("react-relay-deprecated/classic/mutation/rangeOperationToMetadataKey")[d];var f=e[a];f||(f=[],e[a]=f);d===k?f.unshift(c):f.push(c)};a.prototype.$14=function(a,c,d){__p&&__p();var e=this.$9(a,q);e||g(0,949,d,a);if(d===l){e.removeEdgeWithID(c);var f=this.getLinkedRecordID(c,"node");f&&this.$15(a,f)}else{f=this.$11(c);f=b("react-relay-deprecated/classic/store/RelayRecord").getDataID(f.node);this.$12(a,f);d===j?e.appendEdge(this.$11(c)):e.prependEdge(this.$11(c))}this.$1&&this.$1.writeField(a,q,e)};a.prototype.$12=function(a,b){var c=this.$5[b];c||(c={},this.$5[b]=c);c[a]=!0};a.prototype.$15=function(a,b){var c=this.$5[b];c&&(delete c[a],Object.keys(c).length===0&&delete this.$5[b])};a.prototype.$7=function(a){a=this.$4[a];if(!a)return a;this.$3&&this.$8(a);return a};a.prototype.$9=function(a,b){a=this.$4[a];if(a===null)return null;else if(a&&Object.prototype.hasOwnProperty.call(a,b))return a[b];else return void 0};a.prototype.$8=function(a){var c=this.$2;c||g(0,950);var d=a[o]||[];d.indexOf(c)===-1&&(d.push(c),a[o]=d);a[t]=b("react-relay-deprecated/classic/store/RelayRecordStatusMap").setOptimisticStatus(0,!0)};function u(a){return a.filter(function(a){return!h.isConnectionCall(a)})}e.exports=a}),null);