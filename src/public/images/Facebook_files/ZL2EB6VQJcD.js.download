if (self.CavalryLogger) { CavalryLogger.start_js(["uY0dq"]); }

__d("react-relay-deprecated/classic/store/RelayPendingQueryTracker",["invariant","Deferred","PromiseMap","react-relay-deprecated/classic/util/throwFailedPromise","react-relay-deprecated/classic/store/RelayFetchMode"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){this.$1={},this.$2=new(b("PromiseMap"))(),this.$3=a}a.prototype.add=function(a){return new h(a,{pendingFetchMap:this.$1,preloadQueryMap:this.$2,storeData:this.$3})};a.prototype.hasPendingQueries=function(){return i(this.$1)};a.prototype.resetPending=function(){this.$1={}};a.prototype.resolvePreloadQuery=function(a,b){this.$2.resolveKey(a,b)};a.prototype.rejectPreloadQuery=function(a,b){this.$2.rejectKey(a,b)};function h(a,c){__p&&__p();var d=a.fetchMode,e=a.forceIndex;a=a.query;var f=c.pendingFetchMap,g=c.preloadQueryMap;c=c.storeData;var h=a.getID();this.$4=e;this.$1=f;this.$2=g;this.$3=a;this.$8=new(b("Deferred"))();this.$7=!1;this.$9=c;this.$6=d===b("react-relay-deprecated/classic/store/RelayFetchMode").PRELOAD?this.$2.get(h):c.getNetworkLayer().fetchRelayQuery(a);this.$5=!1;this.$10=null;this.$1[h]={fetch:this,query:a};b("react-relay-deprecated/classic/util/throwFailedPromise")(this.$6.then(this.$11.bind(this),this.$12.bind(this)))}h.prototype.isResolvable=function(){return this.$7};h.prototype.getQuery=function(){return this.$3};h.prototype.getResolvedPromise=function(){return this.$8.getPromise()};h.prototype.$11=function(a){this.$5=!0,b("react-relay-deprecated/classic/util/throwFailedPromise")(this.$9.getTaskQueue().enqueue(function(){var b=a.response;b&&typeof b==="object"||g(0,4600,b?typeof b:b);this.$9.handleQueryPayload(this.$3,b,this.$4)}.bind(this)).then(this.$13.bind(this),this.$14.bind(this)))};h.prototype.$12=function(a){this.$14(a)};h.prototype.$13=function(){var a=this.getQuery().getID();delete this.$1[a];this.$7=!0;this.$15()};h.prototype.$14=function(a){var b=this.getQuery().getID();delete this.$1[b];this.$10=a;this.$15()};h.prototype.$15=function(){this.$16()&&!this.$8.isSettled()&&(this.$10?this.$8.reject(this.$10):this.$8.resolve(void 0))};h.prototype.$16=function(){return!!this.$10||this.$7};function i(a){return!!Object.keys(a).length}e.exports=a}),null);