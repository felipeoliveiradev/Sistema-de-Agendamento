if (self.CavalryLogger) { CavalryLogger.start_js(["ZYIdD"]); }

__d("react-relay/ReactRelayRefetchContainer",["React","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","areEqual","react-relay/buildReactRelayContainer","warning","react-relay/ReactRelayContainerProfiler","react-relay/ReactRelayContainerUtils","react-relay/RelayContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("react-relay/ReactRelayContainerProfiler").profileContainer,h=b("react-relay/ReactRelayContainerUtils").getContainerName,i=b("react-relay/RelayContext").assertRelayContext,j=b("relay-runtime").Observable,k=b("relay-runtime").RelayFeatureFlags,l=b("relay-runtime").RelayProfiler,m=b("relay-runtime").isScalarAndEqual;function n(a,c,d){__p&&__p();var e,f,n=h(a);e=babelHelpers.inherits(p,b("React").Component);f=e&&e.prototype;function p(a){"use strict";__p&&__p();f.constructor.call(this,a);this.$6=function(){var a=l.profile("ReactRelayRefetchContainer.handleFragmentDataUpdate"),b=this.state.resolver;this.setState(function(a){return b===a.resolver?{data:a.resolver.resolve()}:null},a.stop)}.bind(this);this.$4=function(a,c,e,f){__p&&__p();if(this.$3){b("warning")(!1,"ReactRelayRefetchContainer: Unexpected call of `refetch` on unmounted container `%s`. It looks like some instances of your container still trying to refetch the data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `refetch`.",n);return{dispose:function(){}}}var g=i(this.props.__relayContext),h=g.environment;g=g.variables;a=typeof a==="function"?a(this.$7()):a;a=babelHelpers["extends"]({},g,a);var l=c?k.MERGE_FETCH_AND_FRAGMENT_VARS?babelHelpers["extends"]({},a,c):babelHelpers["extends"]({},g,c):a;g=f?{force:!!f.force}:void 0;var m=typeof e==="function"?{next:e,error:e}:e||{};c=this.props.__relayContext.environment.unstable_internal;e=c.createOperationDescriptor;c=c.getRequest;c=c(d);var o=e(c,a);this.state.localVariables=a;this.$1&&this.$1.unsubscribe();var p;if((f==null?void 0:f.fetchPolicy)==="store-or-network"){e=this.$8().lookupInStore(h,o);if(e!=null){this.state.resolver.setVariables(l,o.node);this.setState(function(a){return{data:a.resolver.resolve(),contextForChildren:{environment:this.props.__relayContext.environment,variables:l}}}.bind(this),function(){m.next&&m.next(),m.complete&&m.complete()});return{dispose:function(){}}}}this.$8().execute({environment:h,operation:o,cacheConfig:g,preservePreviousReferences:!0}).mergeMap(function(a){this.state.resolver.setVariables(l,o.node);return j.create(function(a){return this.setState(function(a){return{data:a.resolver.resolve(),contextForChildren:{environment:this.props.__relayContext.environment,variables:l}}}.bind(this),function(){a.next(),a.complete()})}.bind(this))}.bind(this))["finally"](function(){this.$1===p&&(this.$1=null)}.bind(this)).subscribe(babelHelpers["extends"]({},m,{start:function(a){this.$1=p=a,m.start&&m.start(a)}.bind(this)}));return{dispose:function(){p&&p.unsubscribe()}}}.bind(this);var e=i(a.__relayContext);this.$1=null;var g=e.environment.unstable_internal.createFragmentSpecResolver;g=g(e,n,c,a);this.state={data:g.resolve(),localVariables:null,prevProps:a,prevPropsContext:e,contextForChildren:e,relayProp:o(e.environment,this.$4),resolver:g};this.$3=!1}p.prototype.componentDidMount=function(){"use strict";this.$5()};p.prototype.componentDidUpdate=function(a,b){"use strict";this.state.resolver!==b.resolver&&(b.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe(),this.$5())};p.getDerivedStateFromProps=function(a,d){"use strict";__p&&__p();var e=d.prevProps,f=i(a.__relayContext),g=f.environment.unstable_internal,h=g.createFragmentSpecResolver;g=g.getDataIDsFromObject;e=g(c,e);g=g(c,a);var j=d.resolver;if(d.prevPropsContext.environment!==f.environment||d.prevPropsContext.variables!==f.variables||!b("areEqual")(e,g)){j=h(f,n,c,a);return{data:j.resolve(),localVariables:null,prevProps:a,prevPropsContext:f,contextForChildren:f,relayProp:o(f.environment,d.relayProp.refetch),resolver:j}}else d.localVariables||j.setProps(a);e=j.resolve();return e!==d.data?{data:e,prevProps:a}:null};p.prototype.componentWillUnmount=function(){"use strict";this.$3=!0,this.state.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe()};p.prototype.shouldComponentUpdate=function(a,b){"use strict";__p&&__p();if(b.data!==this.state.data||b.relayProp!==this.state.relayProp)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(this.state.prevPropsContext.environment!==b.prevPropsContext.environment||this.state.prevPropsContext.variables!==b.prevPropsContext.variables)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!m(a[f],this.props[f]))return!0}return!1};p.prototype.$5=function(){"use strict";var a=this.state,b=a.data;a=a.resolver;a.setCallback(this.$6);a=a.resolve();b!==a&&this.setState({data:a})};p.prototype.$7=function(){"use strict";var a=this.props.__relayContext.environment.unstable_internal.getVariablesFromObject;return a(this.props.__relayContext.variables,c,this.props)};p.prototype.$8=function(){"use strict";this.$2||(this.$2=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$2};p.prototype.render=function(){"use strict";var c=this.props,d=c.componentRef;c.__relayContext;c=babelHelpers.objectWithoutPropertiesLoose(c,["componentRef","__relayContext"]);var e=this.state,f=e.relayProp;e=e.contextForChildren;return b("React").createElement(b("react-relay/ReactRelayContext").Provider,{value:e},b("React").createElement(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:f})))};p.displayName=n;g(p,"ReactRelayRefetchContainer");return p}function o(a,b){return{environment:a,refetch:b}}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return n(a,b,d)})}e.exports={createContainer:a,createContainerWithFragments:n}}),null);