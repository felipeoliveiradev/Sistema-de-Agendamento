if (self.CavalryLogger) { CavalryLogger.start_js(["FqDqE"]); }

__d("react-relay-deprecated/classic/store/readRelayQueryData",["invariant","react-relay-deprecated/classic/query/callsFromGraphQL","react-relay-deprecated/classic/query/callsToGraphQL","react-relay-deprecated/classic/query/RelayFragmentPointer","react-relay-deprecated/classic/query/RelayQuery","react-relay-deprecated/classic/query/RelayQueryVisitor","react-relay-deprecated/classic/tools/isCompatibleRelayFragmentType","react-relay-deprecated/classic/store/RelayClassicRecordState","react-relay-deprecated/classic/store/RelayRecord","react-relay-deprecated/classic/store/RelayRecordStatusMap","react-relay-deprecated/classic/store/validateRelayReadQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=b("relay-runtime").ConnectionInterface;d=b("relay-runtime").RelayProfiler;var k=b("react-relay-deprecated/classic/store/RelayRecord").MetadataKey.MUTATION_STATUS,l=["__status__","__resolvedFragmentMapGeneration__"];function a(a,c,d,e){a=new m(a,e);a=a.retrieveData(c,d);b("react-relay-deprecated/classic/store/validateRelayReadQuery")(c,e);return a}f=babelHelpers.inherits(m,b("react-relay-deprecated/classic/query/RelayQueryVisitor"));h=f&&f.prototype;function m(a,b){h.constructor.call(this),this.$RelayStoreReader1=a.getRangeData(),this.$RelayStoreReader2=a.getQueuedStore(),this.$RelayStoreReader3=a,this.$RelayStoreReader4=b&&b.traverseFragmentReferences||!1,this.$RelayStoreReader5=b&&b.traverseGeneratedFields||!1}m.prototype.retrieveData=function(a,c){var d={data:void 0,dataIDs:{}},e=this.$RelayStoreReader1.parseRangeClientID(c);e=this.$RelayStoreReader2.getRecordState(e?e.dataID:c);if(e===b("react-relay-deprecated/classic/store/RelayClassicRecordState").EXISTENT){c=this.$RelayStoreReader6({componentDataID:null,data:void 0,isPartial:!1,parent:null,rangeInfo:null,seenDataIDs:d.dataIDs,storeDataID:c});this.visit(a,c);d.data=c.data}else e===b("react-relay-deprecated/classic/store/RelayClassicRecordState").NONEXISTENT&&(d.data=null);return d};m.prototype.visit=function(a,b){a=h.visit.call(this,a,b);this.$RelayStoreReader7(b);return a};m.prototype.visitField=function(a,b){var c=j.get(),d=c.EDGES;c=c.PAGE_INFO;this.$RelayStoreReader8(a,b);(a.canHaveSubselections()||a.isGenerated())&&q(b);if(a.isGenerated()&&!this.$RelayStoreReader5)return;var e=b.rangeInfo;e&&a.getSchemaName()===d?this.$RelayStoreReader9(a,e,b):e&&a.getSchemaName()===c?this.$RelayStoreReader10(a,e,b):!a.canHaveSubselections()?this.$RelayStoreReader11(a,b):a.isPlural()?this.$RelayStoreReader12(a,b):a.isConnection()?this.$RelayStoreReader13(a,b):this.$RelayStoreReader14(a,b);b.seenDataIDs[b.storeDataID]=!0};m.prototype.visitFragment=function(a,c){var d=p(c);if(a.isContainerFragment()&&!this.$RelayStoreReader4){c.seenDataIDs[d]=!0;var e=q(c);b("react-relay-deprecated/classic/query/RelayFragmentPointer").addFragment(e,a)}else b("react-relay-deprecated/classic/tools/isCompatibleRelayFragmentType")(a,this.$RelayStoreReader2.getType(d))&&this.traverse(a,c)};m.prototype.$RelayStoreReader6=function(a){var c=this.$RelayStoreReader2.getRecordState(a.storeDataID);c===b("react-relay-deprecated/classic/store/RelayClassicRecordState").EXISTENT&&q(a);return a};m.prototype.$RelayStoreReader11=function(a,b){var c=a.getStorageKey();c=this.$RelayStoreReader2.getField(b.storeDataID,c);c===void 0?b.isPartial=!0:c===null&&!b.data?b.data=null:this.$RelayStoreReader15(b,a.getApplicationName(),Array.isArray(c)?c.slice():c)};m.prototype.$RelayStoreReader12=function(a,b){__p&&__p();var c=a.getStorageKey();c=this.$RelayStoreReader2.getLinkedRecordIDs(b.storeDataID,c);if(c){var d=a.getApplicationName(),e=r(b,d);c=c.map(function(c,d){var f;e instanceof Object&&(f=e[d]);var g=this.$RelayStoreReader6({componentDataID:null,data:f,isPartial:!1,parent:a,rangeInfo:null,seenDataIDs:b.seenDataIDs,storeDataID:c});a.getChildren().forEach(function(a){return this.visit(a,g)}.bind(this));g.isPartial&&(b.isPartial=!0);return g.data}.bind(this));this.$RelayStoreReader15(b,d,c)}};m.prototype.$RelayStoreReader13=function(a,b){__p&&__p();var c=a.getApplicationName(),d=a.getStorageKey(),e=a.getCallsWithValues();d=this.$RelayStoreReader2.getLinkedRecordID(b.storeDataID,d);if(!d){b.isPartial=!0;return}n(a);var f=this.$RelayStoreReader2.getRangeMetadata(d,e);e=this.$RelayStoreReader6({componentDataID:this.$RelayStoreReader16(a,d),data:r(b,c),isPartial:!1,parent:a,rangeInfo:f&&e.length?f:null,seenDataIDs:b.seenDataIDs,storeDataID:d});this.traverse(a,e);e.isPartial&&(b.isPartial=!0);this.$RelayStoreReader15(b,c,e.data)};m.prototype.$RelayStoreReader9=function(a,b,c){__p&&__p();var d=j.get();d=d.EDGES;b.diffCalls.length&&(c.isPartial=!0);var e=r(c,d);b.requestedEdgeIDs.forEach(function(a){c.seenDataIDs[a]=!0});b=b.filteredEdges.map(function(b,d){var f;e instanceof Object&&(f=e[d]);d=this.$RelayStoreReader6({componentDataID:null,data:f,isPartial:!1,parent:a,rangeInfo:null,seenDataIDs:c.seenDataIDs,storeDataID:b.edgeID});this.traverse(a,d);d.isPartial&&(c.isPartial=!0);return d.data}.bind(this));this.$RelayStoreReader15(c,d,b)};m.prototype.$RelayStoreReader10=function(a,c,d){__p&&__p();var e=j.get();e=e.PAGE_INFO;var f=c.pageInfo;f||g(0,683,e);c.diffCalls.length&&(d.isPartial=!0);var h=f,i,k=function(a){if(a instanceof b("react-relay-deprecated/classic/query/RelayQuery").Fragment)a.isContainerFragment()&&!this.$RelayStoreReader4?(i=i||{},b("react-relay-deprecated/classic/query/RelayFragmentPointer").addFragment(i,a)):a.getChildren().forEach(k);else{a=a;(!a.isGenerated()||this.$RelayStoreReader5)&&(i=i||{},i[a.getApplicationName()]=h[a.getStorageKey()])}}.bind(this);a.getChildren().forEach(k);this.$RelayStoreReader15(d,a.getApplicationName(),i)};m.prototype.$RelayStoreReader14=function(a,b){__p&&__p();var c=a.getStorageKey(),d=a.getApplicationName();c=this.$RelayStoreReader2.getLinkedRecordID(b.storeDataID,c);if(c==null){c===void 0&&(b.isPartial=!0);this.$RelayStoreReader15(b,d,c);return}c=this.$RelayStoreReader6({componentDataID:null,data:r(b,d),isPartial:!1,parent:a,rangeInfo:null,seenDataIDs:b.seenDataIDs,storeDataID:c});this.traverse(a,c);c.isPartial&&(b.isPartial=!0);this.$RelayStoreReader15(b,d,c.data)};m.prototype.$RelayStoreReader15=function(a,b,c){a=q(a);if(c===void 0)return;a[b]=c};m.prototype.$RelayStoreReader7=function(a){__p&&__p();var c=a.data;if(!(c instanceof Object))return;var d=a.storeDataID;l.forEach(function(a){var b=this.$RelayStoreReader2.getField(d,a);b!=null&&(c[a]=b)}.bind(this));a.isPartial&&(c.__status__=b("react-relay-deprecated/classic/store/RelayRecordStatusMap").setPartialStatus(c.__status__,!0));a=this.$RelayStoreReader3.getClientMutationIDs(d);if(a){var e=[],f=this.$RelayStoreReader3.getMutationQueue();a.forEach(function(a){a=f.getTransaction(a);a&&e.push(a.getHash())});c[k]=e.join(",")}};m.prototype.$RelayStoreReader16=function(a,c){a=a.getCallsWithValues();return!j.hasRangeCalls(a)?c:this.$RelayStoreReader1.getClientIDForRangeWithID(b("react-relay-deprecated/classic/query/callsToGraphQL")(a),{},c)};m.prototype.$RelayStoreReader8=function(a,c){a=this.$RelayStoreReader1.parseRangeClientID(c.storeDataID);a!=null&&(c.componentDataID=c.storeDataID,c.storeDataID=a.dataID,c.rangeInfo=this.$RelayStoreReader2.getRangeMetadata(c.storeDataID,b("react-relay-deprecated/classic/query/callsFromGraphQL")(a.calls,a.callValues)))};function n(a){if(!a.__hasValidatedConnectionCalls__){var b=a.getCallsWithValues();j.hasRangeCalls(b)||o.traverse(a,a);a.__hasValidatedConnectionCalls__=!0}}i=babelHelpers.inherits(c,b("react-relay-deprecated/classic/query/RelayQueryVisitor"));i&&i.prototype;c.prototype.visitField=function(a,b){var c=j.get(),d=c.EDGES;c=c.PAGE_INFO;a=a.getSchemaName();a!==d&&a!==c||g(0,684,b.getApplicationName(),d,c)};function c(){i.apply(this,arguments)}var o=new c();function p(a){if(a.componentDataID!=null)return a.componentDataID;else return a.storeDataID}function q(a){var c=a.data;c||(c=a.data=b("react-relay-deprecated/classic/store/RelayRecord").create(p(a)));c instanceof Object||g(0,685);return c}function r(a,b){a=q(a);return a[b]}e.exports=d.instrument("readRelayQueryData",a)}),null);